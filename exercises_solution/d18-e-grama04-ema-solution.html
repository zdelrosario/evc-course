
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Grama: Exploratory Model Analysis &#8212; Data Science for Engineers</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=62ba249389abaaa9ffc34bf36a076bdc1d65ee18" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=f31d14ad54b65d19161ba51d4ffff3a77ae00456"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Stats: Distributions" href="d19-e-stat04-distributions-solution.html" />
    <link rel="prev" title="Vis: Small Multiples" href="d17-e-vis05-multiples-solution.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
      
      
      <h1 class="site-logo" id="site-title">Data Science for Engineers</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../frontmatter/home.html">
                    Data Science for Engineers
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../frontmatter/setup.html">
   Software Setup
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../frontmatter/howto.html">
   How To Use These Materials
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../frontmatter/schedule.html">
   Course Topics and Schedule
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../frontmatter/submission.html">
   Challenge Submission Instructions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../frontmatter/recordings.html">
   Class Recordings
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../frontmatter/demos.html">
   Demo Notebooks
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../demos/demo2022-06-20-1.html">
     Demo Notebook 2022-06-20
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../frontmatter/hours.html">
   Office Hours Schedule
  </a>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="../frontmatter/exercises.html">
   Exercise Solutions
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="d01-e-data00-notebooks-solution.html">
     Introduction to Jupyter Notebooks
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="d01-e-vis00-basics-solution.html">
     Vis: Data Visualization Basics
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="d02-e-data01-isolate-solution.html">
     Data: Isolating Data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="d02-e-tips-solution.html">
     Tips for This Course
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="d03-e-stat01-eda-solution.html">
     Stats: Introduction to Exploratory Data Analysis
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="d04-e-grama01-basics-solution.html">
     Grama: Basics
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="d05-e-vis01-bar-charts-solution.html">
     Vis: Bar Charts
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="d06-e-data02-derive-solution.html">
     Data: Deriving Quantities
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="d07-e-vis02-histograms-solution.html">
     Vis: Histograms
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="d08-e-stat02-source-solution.html">
     Stats: Real and Erroneous Sources of Variability
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="d09-e-vis03-scatterplot-solution.html">
     Vis: Scatterplots and Layers
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="d10-e-grama02-building-solution.html">
     Grama: Model Building
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="d11-e-data03-pivot-solution.html">
     Data: Pivoting Data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="d12-e-grama03-eval-solution.html">
     Grama: Model Evaluation
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="d13-e-vis04-lines-solution.html">
     Vis: Lines and Related Geometries
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="d14-e-stat03-descriptive-solution.html">
     Stats: Descriptive Statistics
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="d15-e-data04-separate-unite-solution.html">
     Data: Separating and Uniting Columns
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="d16-e-data05-join-solution.html">
     Data: Joining Datasets
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="d17-e-vis05-multiples-solution.html">
     Vis: Small Multiples
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Grama: Exploratory Model Analysis
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="d19-e-stat04-distributions-solution.html">
     Stats: Distributions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="d20-e-grama05-fit-function-solution.html">
     Grama: Fitting Functions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="d21-e-stat05-CI-solution.html">
     Stats: Confidence Intervals and the CLT
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="d22-e-stat06-spc-solution.html">
     Stats: Fundamentals of Statistical Process Monitoring
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="d23-e-grama06-fit-univar-solution.html">
     Grama: Fitting Univariate Distributions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="d24-e-grama07-fit-multivar-solution.html">
     Grama: Fitting Multivariate Distributions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="d25-e-grama08-duu-solution.html">
     Grama: Design Under Uncertainty
    </a>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<div class="menu-dropdown menu-dropdown-launch-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Launch interactive content">
      <i class="fas fa-rocket"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://mybinder.org/v2/gh/executablebooks/jupyter-book/master?urlpath=tree/exercises_solution/d18-e-grama04-ema-solution.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Binder"
>
  

<span class="headerbtn__icon-container">
  
    <img src="../_static/images/logo_binder.svg">
  </span>
<span class="headerbtn__text-container">Binder</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../_sources/exercises_solution/d18-e-grama04-ema-solution.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.ipynb</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#">
   Grama: Exploratory Model Analysis
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#core-idea-curiosity-and-skepticism">
     Core Idea: Curiosity and Skepticism
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#setup">
     Setup
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#running-example-circuit-model">
     Running Example: Circuit model
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#basic-facts">
   Basic Facts
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#q1-model-summary">
     <strong>
      q1
     </strong>
     Model summary
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#model-context">
     Model context
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#inputs">
   Inputs
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#q2-overview-of-inputs">
     <strong>
      q2
     </strong>
     Overview of inputs
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#hypothesis-same-variability">
     Hypothesis: Same Variability
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#q3-compare-designed-and-realized-values">
       <strong>
        q3
       </strong>
       Compare designed and realized values
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#outputs">
   Outputs
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#q4-nominal-outputs">
     <strong>
      q4
     </strong>
     Nominal outputs
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#q5-overview-of-outputs">
     <strong>
      q5
     </strong>
     Overview of outputs
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#hypothesis-nominal-outputs-are-likely-outputs">
     Hypothesis: Nominal Outputs are Likely Outputs
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#q6-compare-distribution-and-nominal-values-for-omega0">
       <strong>
        q6
       </strong>
       Compare distribution and nominal values for
       <code class="docutils literal notranslate">
        <span class="pre">
         omega0
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#q7-density-of-outputs">
       <strong>
        q7
       </strong>
       Density of outputs
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#q8-compare-nominal-with-distribution">
       <strong>
        q8
       </strong>
       Compare nominal with distribution
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#input-to-output-relationships">
   Input-to-output Relationships
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#q9-correlation-tile-plot">
     <strong>
      q9
     </strong>
     Correlation tile plot
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#hypothesis-dr-has-no-effect-on-omega0">
     Hypothesis:
     <code class="docutils literal notranslate">
      <span class="pre">
       dR
      </span>
     </code>
     has no effect on
     <code class="docutils literal notranslate">
      <span class="pre">
       omega0
      </span>
     </code>
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#q10-sweeps">
       <strong>
        q10
       </strong>
       Sweeps
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Grama: Exploratory Model Analysis</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#">
   Grama: Exploratory Model Analysis
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#core-idea-curiosity-and-skepticism">
     Core Idea: Curiosity and Skepticism
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#setup">
     Setup
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#running-example-circuit-model">
     Running Example: Circuit model
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#basic-facts">
   Basic Facts
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#q1-model-summary">
     <strong>
      q1
     </strong>
     Model summary
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#model-context">
     Model context
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#inputs">
   Inputs
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#q2-overview-of-inputs">
     <strong>
      q2
     </strong>
     Overview of inputs
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#hypothesis-same-variability">
     Hypothesis: Same Variability
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#q3-compare-designed-and-realized-values">
       <strong>
        q3
       </strong>
       Compare designed and realized values
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#outputs">
   Outputs
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#q4-nominal-outputs">
     <strong>
      q4
     </strong>
     Nominal outputs
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#q5-overview-of-outputs">
     <strong>
      q5
     </strong>
     Overview of outputs
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#hypothesis-nominal-outputs-are-likely-outputs">
     Hypothesis: Nominal Outputs are Likely Outputs
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#q6-compare-distribution-and-nominal-values-for-omega0">
       <strong>
        q6
       </strong>
       Compare distribution and nominal values for
       <code class="docutils literal notranslate">
        <span class="pre">
         omega0
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#q7-density-of-outputs">
       <strong>
        q7
       </strong>
       Density of outputs
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#q8-compare-nominal-with-distribution">
       <strong>
        q8
       </strong>
       Compare nominal with distribution
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#input-to-output-relationships">
   Input-to-output Relationships
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#q9-correlation-tile-plot">
     <strong>
      q9
     </strong>
     Correlation tile plot
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#hypothesis-dr-has-no-effect-on-omega0">
     Hypothesis:
     <code class="docutils literal notranslate">
      <span class="pre">
       dR
      </span>
     </code>
     has no effect on
     <code class="docutils literal notranslate">
      <span class="pre">
       omega0
      </span>
     </code>
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#q10-sweeps">
       <strong>
        q10
       </strong>
       Sweeps
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="grama-exploratory-model-analysis">
<h1>Grama: Exploratory Model Analysis<a class="headerlink" href="#grama-exploratory-model-analysis" title="Permalink to this headline">#</a></h1>
<p><em>Purpose</em>: Once we’ve built a grama model, we can use a variety of tools to <em>make sense</em> of the model. However, as we saw with exploratory data analysis (EDA), we need both tools and a <em>mindset</em> to make sense of data. This exercise is about an analogous approach to sense-making with models: <em>exploratory model analysis</em> (EMA).</p>
<section id="core-idea-curiosity-and-skepticism">
<h2>Core Idea: Curiosity and Skepticism<a class="headerlink" href="#core-idea-curiosity-and-skepticism" title="Permalink to this headline">#</a></h2>
<p>Remember the core principles of EDA:</p>
<ol class="simple">
<li><p>Curiosity: Generate lots of ideas and hypotheses about your data.</p></li>
<li><p>Skepticism: Remain unconvinced of those ideas, unless you can find credible patterns to support them.</p></li>
</ol>
<p>We can apply these same principles when studying a model; a process called <em>exploratory model analysis</em>. However, when studying a model, we have the means to more immediately test our hypotheses: We can <em>evaluate</em> the model to generate new data as we’re carrying out our exploration!</p>
<p>These ideas can be a little abstract, so let’s illustrate them with a concrete example.</p>
</section>
<section id="setup">
<h2>Setup<a class="headerlink" href="#setup" title="Permalink to this headline">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">grama</span> <span class="k">as</span> <span class="nn">gr</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="n">DF</span> <span class="o">=</span> <span class="n">gr</span><span class="o">.</span><span class="n">Intention</span><span class="p">()</span>
<span class="o">%</span><span class="k">matplotlib</span> inline
</pre></div>
</div>
</div>
</div>
</section>
<section id="running-example-circuit-model">
<h2>Running Example: Circuit model<a class="headerlink" href="#running-example-circuit-model" title="Permalink to this headline">#</a></h2>
<p>The following code initializes a model for a <a class="reference external" href="https://en.wikipedia.org/wiki/RLC_circuit#Parallel_circuit">parallel RLC circuit</a>. I’m not expecting you to know any circuit theory; in fact, I chose this model because you’re unlikely to know much about this system. We will use exploratory model analysis techniques to learn something about this model.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">grama.models</span> <span class="kn">import</span> <span class="n">make_prlc_rand</span>
<span class="n">md_circuit</span> <span class="o">=</span> <span class="n">make_prlc_rand</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="basic-facts">
<h1>Basic Facts<a class="headerlink" href="#basic-facts" title="Permalink to this headline">#</a></h1>
<p>Before we start exploring a model, we should first understand the basic facts about that model. This is most easily done in grama by printing the model’s summary:</p>
<section id="q1-model-summary">
<h2><strong>q1</strong> Model summary<a class="headerlink" href="#q1-model-summary" title="Permalink to this headline">#</a></h2>
<p>Print the model summary for <code class="docutils literal notranslate"><span class="pre">md_circuit</span></code>. Answer the questions under <em>observations</em> below.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">md_circuit</span> 
<span class="c1"># solution-end</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/Users/zach/Git/py_grama/grama/marginals.py:336: RuntimeWarning: divide by zero encountered in double_scalars
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>model: RLC with component tolerances

  inputs:
    var_det:
      L: [1e-09, 0.001]
      R: [0.001, 1.0]
      C: [0.001, 100]

    var_rand:
      dR: (+0) uniform, {&#39;mean&#39;: &#39;0.000e+00&#39;, &#39;s.d.&#39;: &#39;3.000e-02&#39;, &#39;COV&#39;: inf, &#39;skew.&#39;: 0.0, &#39;kurt.&#39;: 1.8}
      dL: (+0) uniform, {&#39;mean&#39;: &#39;0.000e+00&#39;, &#39;s.d.&#39;: &#39;6.000e-02&#39;, &#39;COV&#39;: inf, &#39;skew.&#39;: 0.0, &#39;kurt.&#39;: 1.8}
      dC: (+0) uniform, {&#39;mean&#39;: &#39;3.000e-01&#39;, &#39;s.d.&#39;: &#39;2.900e-01&#39;, &#39;COV&#39;: 0.96, &#39;skew.&#39;: 0.0, &#39;kurt.&#39;: 1.8}

    copula:
      Independence copula

  functions:
      f0: [&#39;R&#39;, &#39;dR&#39;, &#39;L&#39;, &#39;dL&#39;, &#39;C&#39;, &#39;dC&#39;] -&gt; [&#39;Rr&#39;, &#39;Lr&#39;, &#39;Cr&#39;]
      f1: [&#39;Lr&#39;, &#39;Cr&#39;] -&gt; [&#39;omega0&#39;]
      parallel RLC: [&#39;omega0&#39;, &#39;Rr&#39;, &#39;Cr&#39;] -&gt; [&#39;Q&#39;]
</pre></div>
</div>
</div>
</div>
<p><em>Observations</em></p>
<ul class="simple">
<li><p>Compare the variability (measured by standard deviation) of the three random variables. Which is most variable?</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">dC</span></code> has the largest variability, with <code class="docutils literal notranslate"><span class="pre">sd</span> <span class="pre">=</span> <span class="pre">0.29</span></code>, as compared with <code class="docutils literal notranslate"><span class="pre">dR</span></code> (<code class="docutils literal notranslate"><span class="pre">sd</span> <span class="pre">=</span> <span class="pre">0.03</span></code>) and <code class="docutils literal notranslate"><span class="pre">dL</span></code> (<code class="docutils literal notranslate"><span class="pre">sd</span> <span class="pre">=</span> <span class="pre">0.06</span></code>).</p></li>
</ul>
</li>
</ul>
</section>
<section id="model-context">
<h2>Model context<a class="headerlink" href="#model-context" title="Permalink to this headline">#</a></h2>
<p>The symbols above don’t tell us anything about what the model quantities <em>mean</em>. Here are some basic facts on the quantities in the model</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>Variable</p></th>
<th class="head"><p>I/O</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">L</span></code></p></td>
<td><p>Input</p></td>
<td><p>Nominal inductance</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">R</span></code></p></td>
<td><p>Input</p></td>
<td><p>Nominal resistance</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">C</span></code></p></td>
<td><p>Input</p></td>
<td><p>Nominal capacitance</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">dL</span></code></p></td>
<td><p>Input</p></td>
<td><p>Percent error on inductance</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">dR</span></code></p></td>
<td><p>Input</p></td>
<td><p>Percent error on resistance</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">dC</span></code></p></td>
<td><p>Input</p></td>
<td><p>Percent error on capacitance</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">omega0</span></code></p></td>
<td><p>Output</p></td>
<td><p>Natural frequency</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">Q</span></code></p></td>
<td><p>Output</p></td>
<td><p>Quality factor</p></td>
</tr>
</tbody>
</table>
<p>The deterministic variables <code class="docutils literal notranslate"><span class="pre">L,</span> <span class="pre">R,</span> <span class="pre">C</span></code> are the <em>designed</em> component values; these are selected by a circuit designer to achieve a desired performance.</p>
<p>The random variables <code class="docutils literal notranslate"><span class="pre">dL,</span> <span class="pre">dR,</span> <span class="pre">dC</span></code> are <em>perturbations</em> to the designed component values. These random perturbations model the variability we would see in production, as manufactured components exhibit real variability.</p>
<p>The output <code class="docutils literal notranslate"><span class="pre">omega0</span></code> is the natural frequency; depending on the use-case, a designer would want to achieve a particular <code class="docutils literal notranslate"><span class="pre">omega0</span></code>. Thus having <code class="docutils literal notranslate"><span class="pre">omega0</span></code> lie close to some target value is desirable.</p>
<p>The output <code class="docutils literal notranslate"><span class="pre">Q</span></code> is the quality factor; a larger <code class="docutils literal notranslate"><span class="pre">Q</span></code> corresponds to a more “selective” circuit. Put differently, a higher <code class="docutils literal notranslate"><span class="pre">Q</span></code> helps the circuit reject unwanted signals.</p>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="inputs">
<h1>Inputs<a class="headerlink" href="#inputs" title="Permalink to this headline">#</a></h1>
<p>First, let’s get a sense for how the inputs of the model vary.</p>
<section id="q2-overview-of-inputs">
<h2><strong>q2</strong> Overview of inputs<a class="headerlink" href="#q2-overview-of-inputs" title="Permalink to this headline">#</a></h2>
<p>Generate a random sample from the model at its nominal deterministic values, and visualize all of the random <strong>inputs</strong>. Answer the questions under <em>observations</em> below.</p>
<p><em>Hint</em>: You should be using <code class="docutils literal notranslate"><span class="pre">gr.ev_sample()</span></code> for this task. A particular keyword argument with <code class="docutils literal notranslate"><span class="pre">gr.ev_sample()</span></code> will allow you to generate the appropriate plot using <code class="docutils literal notranslate"><span class="pre">gr.pt_auto()</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span>
    <span class="n">md_circuit</span>
    <span class="o">&gt;&gt;</span> <span class="n">gr</span><span class="o">.</span><span class="n">ev_sample</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mf">1e3</span><span class="p">,</span> <span class="n">df_det</span><span class="o">=</span><span class="s2">&quot;nom&quot;</span><span class="p">,</span> <span class="n">skip</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="o">&gt;&gt;</span> <span class="n">gr</span><span class="o">.</span><span class="n">pt_auto</span><span class="p">()</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>eval_sample() is rounding n...
Design runtime estimates unavailable; model has no timing data.
Calling plot_scattermat....
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/Users/zach/Git/py_grama/grama/plot_auto.py:234: UserWarning: Matplotlib is currently using module://matplotlib_inline.backend_inline, which is a non-GUI backend, so cannot show the figure.
</pre></div>
</div>
<img alt="../_images/d18-e-grama04-ema-solution_13_2.png" src="../_images/d18-e-grama04-ema-solution_13_2.png" />
</div>
</div>
<p><em>Observations</em></p>
<p><em>Note</em>: If you can’t reliably make out the shapes of the distributions, try increasing <code class="docutils literal notranslate"><span class="pre">n</span></code>.</p>
<ul class="simple">
<li><p>What shape of distribution does each random input have?</p>
<ul>
<li><p>All three distributions are uniform; we can see that from the marginals (along the diagonal), and from the model summary information above.</p></li>
</ul>
</li>
<li><p>What kind of dependency do the random inputs exhibit?</p>
<ul>
<li><p>All three inputs are mutually independent; we can see that from the scatterplots (off-diagonal panels), and from the model summary information above (independence copula).</p></li>
</ul>
</li>
</ul>
</section>
<section id="hypothesis-same-variability">
<h2>Hypothesis: Same Variability<a class="headerlink" href="#hypothesis-same-variability" title="Permalink to this headline">#</a></h2>
<blockquote>
<div><p>Since the random perturbations <code class="docutils literal notranslate"><span class="pre">dL,</span> <span class="pre">dR,</span> <span class="pre">dC</span></code> are mutually independent, we should see the same variability regardless of the circuit component values.</p>
</div></blockquote>
<p>You’ll assess this hypothesis in the next task.</p>
<section id="q3-compare-designed-and-realized-values">
<h3><strong>q3</strong> Compare designed and realized values<a class="headerlink" href="#q3-compare-designed-and-realized-values" title="Permalink to this headline">#</a></h3>
<p>The following plot shows the designed and realized capacitance values. Answer the questions under <em>observations</em> below.</p>
<p><em>Hint</em>: Remember that you can add <code class="docutils literal notranslate"><span class="pre">gr.scale_x_log10()</span></code> and <code class="docutils literal notranslate"><span class="pre">gr.scale_y_log10()</span></code> to a ggplot to change to a log-log scale.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># TASK: Inspect the following plot</span>
<span class="p">(</span>
    <span class="c1"># NOTE: No need to edit this part of the code</span>
    <span class="n">md_circuit</span>
    <span class="o">&gt;&gt;</span> <span class="n">gr</span><span class="o">.</span><span class="n">ev_sample</span><span class="p">(</span>
        <span class="n">n</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span>
        <span class="n">df_det</span><span class="o">=</span><span class="n">gr</span><span class="o">.</span><span class="n">df_make</span><span class="p">(</span>
            <span class="n">R</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">,</span>
            <span class="n">L</span><span class="o">=</span><span class="mf">1e-5</span><span class="p">,</span>
            <span class="n">C</span><span class="o">=</span><span class="n">gr</span><span class="o">.</span><span class="n">logspace</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
        <span class="p">)</span>
    <span class="p">)</span>
    <span class="c1"># Visualize</span>
    <span class="o">&gt;&gt;</span> <span class="n">gr</span><span class="o">.</span><span class="n">ggplot</span><span class="p">(</span><span class="n">gr</span><span class="o">.</span><span class="n">aes</span><span class="p">(</span><span class="s2">&quot;C&quot;</span><span class="p">,</span> <span class="s2">&quot;Cr&quot;</span><span class="p">))</span>
    <span class="o">+</span> <span class="n">gr</span><span class="o">.</span><span class="n">geom_point</span><span class="p">()</span>
    <span class="o">+</span> <span class="n">gr</span><span class="o">.</span><span class="n">scale_x_log10</span><span class="p">()</span>
    <span class="o">+</span> <span class="n">gr</span><span class="o">.</span><span class="n">scale_y_log10</span><span class="p">()</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/d18-e-grama04-ema-solution_17_0.png" src="../_images/d18-e-grama04-ema-solution_17_0.png" />
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;ggplot: (8763311150466)&gt;
</pre></div>
</div>
</div>
</div>
<p><em>Observations</em></p>
<ul class="simple">
<li><p>Consider the hypothesis <code class="docutils literal notranslate"><span class="pre">we</span> <span class="pre">should</span> <span class="pre">see</span> <span class="pre">the</span> <span class="pre">same</span> <span class="pre">variability</span> <span class="pre">regardless</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">circuit</span> <span class="pre">component</span> <span class="pre">values</span></code>. Is this hypothesis true?</p>
<ul>
<li><p>This really depends on how we define “same variability”; since the variability is proportional to the component values (defined in terms of <span class="math notranslate nohighlight">\(\pm\)</span> a fixed percentage), the variability  is greater for larger component values. However, the percentage variability is consistent regardless of the component value; this is easiest to see on a log-log scale.</p></li>
</ul>
</li>
</ul>
</section>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="outputs">
<h1>Outputs<a class="headerlink" href="#outputs" title="Permalink to this headline">#</a></h1>
<p>Next, we’ll study the outputs of the model “on their own”; that is, we’re not yet going to look at the input-to-output relationships.</p>
<section id="q4-nominal-outputs">
<h2><strong>q4</strong> Nominal outputs<a class="headerlink" href="#q4-nominal-outputs" title="Permalink to this headline">#</a></h2>
<p>Evaluate the model at its nominal input values.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## TODO: Evaluate the model at its nominal input values</span>
<span class="n">df_nominal</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">md_circuit</span>
    <span class="o">&gt;&gt;</span> <span class="n">gr</span><span class="o">.</span><span class="n">ev_nominal</span><span class="p">(</span><span class="n">df_det</span><span class="o">=</span><span class="s2">&quot;nom&quot;</span><span class="p">)</span>
<span class="p">)</span>

<span class="c1"># NOTE: Use this to check your work</span>
<span class="k">assert</span> \
    <span class="nb">isinstance</span><span class="p">(</span><span class="n">df_nominal</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">),</span> \
    <span class="s2">&quot;df_nominal is not a DataFrame; did you evaluate the model?&quot;</span>

<span class="n">df_nominal</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>dR</th>
      <th>dL</th>
      <th>dC</th>
      <th>L</th>
      <th>R</th>
      <th>C</th>
      <th>Q</th>
      <th>Rr</th>
      <th>omega0</th>
      <th>Lr</th>
      <th>Cr</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.3</td>
      <td>0.0005</td>
      <td>0.5005</td>
      <td>50.0005</td>
      <td>180.458653</td>
      <td>0.5005</td>
      <td>5.546971</td>
      <td>0.0005</td>
      <td>65.00065</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="q5-overview-of-outputs">
<h2><strong>q5</strong> Overview of outputs<a class="headerlink" href="#q5-overview-of-outputs" title="Permalink to this headline">#</a></h2>
<p>Generate a random sample from the model at its nominal deterministic values, and visualize the distribution of <strong>outputs</strong>. Answer the questions under <em>observations</em> below.</p>
<p><em>Hint</em>: This is a lot like <strong>qX</strong> Overview of inputs. You should only need to use <code class="docutils literal notranslate"><span class="pre">gr.ev_sample()</span></code> and <code class="docutils literal notranslate"><span class="pre">gr.pt_auto()</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span>
    <span class="n">md_circuit</span>

    <span class="o">&gt;&gt;</span> <span class="n">gr</span><span class="o">.</span><span class="n">ev_sample</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mf">1e4</span><span class="p">,</span> <span class="n">df_det</span><span class="o">=</span><span class="s2">&quot;nom&quot;</span><span class="p">)</span>
    <span class="o">&gt;&gt;</span> <span class="n">gr</span><span class="o">.</span><span class="n">pt_auto</span><span class="p">()</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>eval_sample() is rounding n...
Calling plot_hists....
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/Users/zach/opt/anaconda3/envs/evc/lib/python3.9/site-packages/plotnine/utils.py:371: FutureWarning: The frame.append method is deprecated and will be removed from pandas in a future version. Use pandas.concat instead.
/Users/zach/opt/anaconda3/envs/evc/lib/python3.9/site-packages/plotnine/facets/facet.py:390: PlotnineWarning: If you need more space for the x-axis tick text use ... + theme(subplots_adjust={&#39;wspace&#39;: 0.25}). Choose an appropriate value for &#39;wspace&#39;.
/Users/zach/opt/anaconda3/envs/evc/lib/python3.9/site-packages/plotnine/facets/facet.py:396: PlotnineWarning: If you need more space for the y-axis tick text use ... + theme(subplots_adjust={&#39;hspace&#39;: 0.25}). Choose an appropriate value for &#39;hspace&#39;
</pre></div>
</div>
<img alt="../_images/d18-e-grama04-ema-solution_23_2.png" src="../_images/d18-e-grama04-ema-solution_23_2.png" />
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;ggplot: (8763303613248)&gt;
</pre></div>
</div>
</div>
</div>
<p><em>Observations</em></p>
<p><em>Note</em>: If you can’t reliably make out the shapes of the distributions, try increasing <code class="docutils literal notranslate"><span class="pre">n</span></code>.</p>
<ul class="simple">
<li><p>What distribution shapes do the realized component values <code class="docutils literal notranslate"><span class="pre">Lr,</span> <span class="pre">Rr,</span> <span class="pre">Cr</span></code> have?</p>
<ul>
<li><p>These are all uniform distributions</p></li>
</ul>
</li>
<li><p>What distribution shape does the output <code class="docutils literal notranslate"><span class="pre">Q</span></code> have?</p>
<ul>
<li><p>This distribution is a bit bell-shaped, but it has a much flatter top and narrower tails than a gaussian.</p></li>
</ul>
</li>
<li><p>What distribution shape does the output <code class="docutils literal notranslate"><span class="pre">omega0</span></code> have?</p>
<ul>
<li><p>This distribution is strongly asymmetric, with a longer right tail (right skew).</p></li>
</ul>
</li>
</ul>
</section>
<section id="hypothesis-nominal-outputs-are-likely-outputs">
<h2>Hypothesis: Nominal Outputs are Likely Outputs<a class="headerlink" href="#hypothesis-nominal-outputs-are-likely-outputs" title="Permalink to this headline">#</a></h2>
<p>Here’s something we might intuitively expect:</p>
<blockquote>
<div><p>The nominal model outputs should be more likely output values.</p>
</div></blockquote>
<p>You’ll assess this hypothesis multiple different ways in the following tasks.</p>
<section id="q6-compare-distribution-and-nominal-values-for-omega0">
<h3><strong>q6</strong> Compare distribution and nominal values for <code class="docutils literal notranslate"><span class="pre">omega0</span></code><a class="headerlink" href="#q6-compare-distribution-and-nominal-values-for-omega0" title="Permalink to this headline">#</a></h3>
<p>Create a plot that visualizes both a distribution of <code class="docutils literal notranslate"><span class="pre">omega0</span></code> and the nominal output value of <code class="docutils literal notranslate"><span class="pre">omega0</span></code>. Answer the questions under <em>observations</em> below.</p>
<p><em>Hint</em>: One good way to do this is with a histogram and a vertical line.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span>
    <span class="n">md_circuit</span>
    <span class="o">&gt;&gt;</span> <span class="n">gr</span><span class="o">.</span><span class="n">ev_sample</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mf">1e4</span><span class="p">,</span> <span class="n">df_det</span><span class="o">=</span><span class="s2">&quot;nom&quot;</span><span class="p">)</span>
    <span class="o">&gt;&gt;</span> <span class="n">gr</span><span class="o">.</span><span class="n">ggplot</span><span class="p">(</span><span class="n">gr</span><span class="o">.</span><span class="n">aes</span><span class="p">(</span><span class="s2">&quot;omega0&quot;</span><span class="p">))</span>
    <span class="o">+</span> <span class="n">gr</span><span class="o">.</span><span class="n">geom_histogram</span><span class="p">(</span><span class="n">bins</span><span class="o">=</span><span class="mi">60</span><span class="p">)</span>
    <span class="o">+</span> <span class="n">gr</span><span class="o">.</span><span class="n">geom_vline</span><span class="p">(</span>
        <span class="n">data</span><span class="o">=</span><span class="n">df_nominal</span><span class="p">,</span>
        <span class="n">mapping</span><span class="o">=</span><span class="n">gr</span><span class="o">.</span><span class="n">aes</span><span class="p">(</span><span class="n">xintercept</span><span class="o">=</span><span class="s2">&quot;omega0&quot;</span><span class="p">)</span>
    <span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>eval_sample() is rounding n...
</pre></div>
</div>
<img alt="../_images/d18-e-grama04-ema-solution_27_1.png" src="../_images/d18-e-grama04-ema-solution_27_1.png" />
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;ggplot: (8763311154990)&gt;
</pre></div>
</div>
</div>
</div>
<p><em>Observations</em></p>
<ul class="simple">
<li><p>How does the hypothesis <code class="docutils literal notranslate"><span class="pre">The</span> <span class="pre">nominal</span> <span class="pre">model</span> <span class="pre">outputs</span> <span class="pre">should</span> <span class="pre">be</span> <span class="pre">more</span> <span class="pre">likely</span> <span class="pre">output</span> <span class="pre">values</span></code> hold up for <code class="docutils literal notranslate"><span class="pre">omega0</span></code>?</p>
<ul>
<li><p>For <code class="docutils literal notranslate"><span class="pre">omega0</span></code> this hypothesis is somewhat false; the most likely value for <code class="docutils literal notranslate"><span class="pre">omega0</span></code> is around <code class="docutils literal notranslate"><span class="pre">5.0</span></code>, but the nominal value is closer to <code class="docutils literal notranslate"><span class="pre">5.5</span></code>. The nominal output value is certainly not the <em>most</em> unlikely value, though.</p></li>
</ul>
</li>
</ul>
</section>
<section id="q7-density-of-outputs">
<h3><strong>q7</strong> Density of outputs<a class="headerlink" href="#q7-density-of-outputs" title="Permalink to this headline">#</a></h3>
<p>Visualize a random sample of <code class="docutils literal notranslate"><span class="pre">Q</span></code> and <code class="docutils literal notranslate"><span class="pre">omega0</span></code> with a 2d bin plot. Increase the sample size <code class="docutils literal notranslate"><span class="pre">n</span></code> to get a “full” plot. Answer the questions under <em>observations</em> below.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span>
    <span class="n">md_circuit</span>

    <span class="o">&gt;&gt;</span> <span class="n">gr</span><span class="o">.</span><span class="n">ev_sample</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mf">1e4</span><span class="p">,</span> <span class="n">df_det</span><span class="o">=</span><span class="s2">&quot;nom&quot;</span><span class="p">)</span>
    <span class="o">&gt;&gt;</span> <span class="n">gr</span><span class="o">.</span><span class="n">ggplot</span><span class="p">(</span><span class="n">gr</span><span class="o">.</span><span class="n">aes</span><span class="p">(</span><span class="s2">&quot;Q&quot;</span><span class="p">,</span> <span class="s2">&quot;omega0&quot;</span><span class="p">))</span>
    <span class="o">+</span> <span class="n">gr</span><span class="o">.</span><span class="n">geom_bin2d</span><span class="p">()</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>eval_sample() is rounding n...
</pre></div>
</div>
<img alt="../_images/d18-e-grama04-ema-solution_30_1.png" src="../_images/d18-e-grama04-ema-solution_30_1.png" />
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;ggplot: (8763303531936)&gt;
</pre></div>
</div>
</div>
</div>
<p><em>Observations</em></p>
<ul class="simple">
<li><p>Briefly describe the distribution of realized performance (values of <code class="docutils literal notranslate"><span class="pre">Q</span></code> and <code class="docutils literal notranslate"><span class="pre">omega0</span></code>).</p>
<ul>
<li><p>The distribution is oddly rectangular, with fairly “sharp” square sides. The distribution seems to end abruptly; there are exactly zero counts outside the “curved rectangle”. The values of <code class="docutils literal notranslate"><span class="pre">Q</span></code> and <code class="docutils literal notranslate"><span class="pre">omega0</span></code> are negatively correlated; when <code class="docutils literal notranslate"><span class="pre">Q</span></code> is larger <code class="docutils literal notranslate"><span class="pre">omega0</span></code> tends to be smaller. The distribution is also asymmetric; note that highest <code class="docutils literal notranslate"><span class="pre">count</span></code> (brightest fill color) is <em>not</em> in the center, but rather towards the bottom-right.</p></li>
</ul>
</li>
</ul>
</section>
<section id="q8-compare-nominal-with-distribution">
<h3><strong>q8</strong> Compare nominal with distribution<a class="headerlink" href="#q8-compare-nominal-with-distribution" title="Permalink to this headline">#</a></h3>
<p>Add a point for the nominal output values to the following plot. Answer the questions under <em>observations</em> below.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## NOTE: You don&#39;t need to touch most of this code; </span>
<span class="c1">## just the line indicated below</span>
<span class="p">(</span>
    <span class="n">md_circuit</span>
    <span class="o">&gt;&gt;</span> <span class="n">gr</span><span class="o">.</span><span class="n">ev_sample</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mf">1e4</span><span class="p">,</span> <span class="n">df_det</span><span class="o">=</span><span class="s2">&quot;nom&quot;</span><span class="p">)</span>
    
    <span class="o">&gt;&gt;</span> <span class="n">gr</span><span class="o">.</span><span class="n">ggplot</span><span class="p">(</span><span class="n">gr</span><span class="o">.</span><span class="n">aes</span><span class="p">(</span><span class="s2">&quot;Q&quot;</span><span class="p">,</span> <span class="s2">&quot;omega0&quot;</span><span class="p">))</span>
    <span class="o">+</span> <span class="n">gr</span><span class="o">.</span><span class="n">geom_bin2d</span><span class="p">()</span>
    <span class="o">+</span> <span class="n">gr</span><span class="o">.</span><span class="n">geom_point</span><span class="p">(</span>

        <span class="n">data</span><span class="o">=</span><span class="n">df_nominal</span><span class="p">,</span>
        <span class="n">color</span><span class="o">=</span><span class="s2">&quot;salmon&quot;</span><span class="p">,</span>
        <span class="n">size</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span>
    <span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>eval_sample() is rounding n...
</pre></div>
</div>
<img alt="../_images/d18-e-grama04-ema-solution_33_1.png" src="../_images/d18-e-grama04-ema-solution_33_1.png" />
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;ggplot: (8763311157447)&gt;
</pre></div>
</div>
</div>
</div>
<p><em>Observations</em></p>
<p>The nominal design (red point) represents the predicted performance if we assume the nominal circuit component values.</p>
<ul class="simple">
<li><p>How does the distribution of real circuit performance (values of <code class="docutils literal notranslate"><span class="pre">Q</span></code>, <code class="docutils literal notranslate"><span class="pre">omega0</span></code>) compare with the nominal performance?</p>
<ul>
<li><p>The distribution of real performance is quite large, and not at all symmetric about the nominal performance. The values <code class="docutils literal notranslate"><span class="pre">Q</span></code> and <code class="docutils literal notranslate"><span class="pre">omega0</span></code> exhibit negative correlation: when <code class="docutils literal notranslate"><span class="pre">Q</span></code> is larger <code class="docutils literal notranslate"><span class="pre">omega0</span></code> tends to be smaller.</p></li>
</ul>
</li>
<li><p>Is the most likely performance (values of <code class="docutils literal notranslate"><span class="pre">Q</span></code>, <code class="docutils literal notranslate"><span class="pre">omega0</span></code>) the same as the nominal performance? (“Most likely” is where <code class="docutils literal notranslate"><span class="pre">count</span></code> is the largest.)</p>
<ul>
<li><p>No; the most likely performance is at a larger value of <code class="docutils literal notranslate"><span class="pre">Q</span></code> and smaller value of <code class="docutils literal notranslate"><span class="pre">omega0</span></code>.</p></li>
</ul>
</li>
<li><p>Assume that another system depends on the particular values of <code class="docutils literal notranslate"><span class="pre">Q</span></code> and <code class="docutils literal notranslate"><span class="pre">omega0</span></code> provided by this system. Would it be safe to assume the performance is within 1% of the nominal performance?</p>
<ul>
<li><p>No; we see variability in <code class="docutils literal notranslate"><span class="pre">Q</span></code> and <code class="docutils literal notranslate"><span class="pre">omega0</span></code> far greater than 1%!</p></li>
</ul>
</li>
</ul>
</section>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="input-to-output-relationships">
<h1>Input-to-output Relationships<a class="headerlink" href="#input-to-output-relationships" title="Permalink to this headline">#</a></h1>
<p>Now that we have a sense of both the inputs and outputs of the model, let’s do some exploration to see how the two are related.</p>
<section id="q9-correlation-tile-plot">
<h2><strong>q9</strong> Correlation tile plot<a class="headerlink" href="#q9-correlation-tile-plot" title="Permalink to this headline">#</a></h2>
<p>Use the routine <code class="docutils literal notranslate"><span class="pre">tf_iocorr()</span></code> to transform the data from <code class="docutils literal notranslate"><span class="pre">ev_sample()</span></code> into input-to-output correlations. The <code class="docutils literal notranslate"><span class="pre">pt_auto()</span></code> routine will automatically plot those correlations as colors on a tile plot. Study the correlation tile plot, and answer the questions under <em>observations</em> below.</p>
<p><em>Note</em>: You’re going to see a <em>ton</em> of warnings when you run <code class="docutils literal notranslate"><span class="pre">tf_iocorr()</span></code> on the data; you’ll think about what those mean in the questions below.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span>
    <span class="c1">## NOTE: No need to edit the call to ev_sample()</span>
    <span class="n">md_circuit</span>
    <span class="o">&gt;&gt;</span> <span class="n">gr</span><span class="o">.</span><span class="n">ev_sample</span><span class="p">(</span>
        <span class="n">n</span><span class="o">=</span><span class="mf">1e3</span><span class="p">,</span> 
        <span class="n">df_det</span><span class="o">=</span><span class="s2">&quot;nom&quot;</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="o">&gt;&gt;</span> <span class="n">gr</span><span class="o">.</span><span class="n">tf_iocorr</span><span class="p">()</span>
    <span class="c1">## NOTE: No need to edit; pt_auto will automatically</span>
    <span class="c1">## adjust the plot to use the correlation data</span>
    <span class="o">&gt;&gt;</span> <span class="n">gr</span><span class="o">.</span><span class="n">pt_auto</span><span class="p">()</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>eval_sample() is rounding n...
Calling plot_corrtile....
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/Users/zach/opt/anaconda3/envs/evc/lib/python3.9/site-packages/scipy/stats/_stats_py.py:4068: PearsonRConstantInputWarning: An input array is constant; the correlation coefficient is not defined.
/Users/zach/opt/anaconda3/envs/evc/lib/python3.9/site-packages/scipy/stats/_stats_py.py:4068: PearsonRConstantInputWarning: An input array is constant; the correlation coefficient is not defined.
/Users/zach/opt/anaconda3/envs/evc/lib/python3.9/site-packages/scipy/stats/_stats_py.py:4068: PearsonRConstantInputWarning: An input array is constant; the correlation coefficient is not defined.
/Users/zach/opt/anaconda3/envs/evc/lib/python3.9/site-packages/scipy/stats/_stats_py.py:4068: PearsonRConstantInputWarning: An input array is constant; the correlation coefficient is not defined.
/Users/zach/opt/anaconda3/envs/evc/lib/python3.9/site-packages/scipy/stats/_stats_py.py:4068: PearsonRConstantInputWarning: An input array is constant; the correlation coefficient is not defined.
/Users/zach/opt/anaconda3/envs/evc/lib/python3.9/site-packages/scipy/stats/_stats_py.py:4068: PearsonRConstantInputWarning: An input array is constant; the correlation coefficient is not defined.
/Users/zach/opt/anaconda3/envs/evc/lib/python3.9/site-packages/scipy/stats/_stats_py.py:4068: PearsonRConstantInputWarning: An input array is constant; the correlation coefficient is not defined.
/Users/zach/opt/anaconda3/envs/evc/lib/python3.9/site-packages/scipy/stats/_stats_py.py:4068: PearsonRConstantInputWarning: An input array is constant; the correlation coefficient is not defined.
/Users/zach/opt/anaconda3/envs/evc/lib/python3.9/site-packages/scipy/stats/_stats_py.py:4068: PearsonRConstantInputWarning: An input array is constant; the correlation coefficient is not defined.
/Users/zach/opt/anaconda3/envs/evc/lib/python3.9/site-packages/scipy/stats/_stats_py.py:4068: PearsonRConstantInputWarning: An input array is constant; the correlation coefficient is not defined.
/Users/zach/opt/anaconda3/envs/evc/lib/python3.9/site-packages/scipy/stats/_stats_py.py:4068: PearsonRConstantInputWarning: An input array is constant; the correlation coefficient is not defined.
/Users/zach/opt/anaconda3/envs/evc/lib/python3.9/site-packages/scipy/stats/_stats_py.py:4068: PearsonRConstantInputWarning: An input array is constant; the correlation coefficient is not defined.
/Users/zach/opt/anaconda3/envs/evc/lib/python3.9/site-packages/scipy/stats/_stats_py.py:4068: PearsonRConstantInputWarning: An input array is constant; the correlation coefficient is not defined.
</pre></div>
</div>
<img alt="../_images/d18-e-grama04-ema-solution_37_2.png" src="../_images/d18-e-grama04-ema-solution_37_2.png" />
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;ggplot: (8763303642555)&gt;
</pre></div>
</div>
</div>
</div>
<p><em>Observations</em></p>
<ul class="simple">
<li><p>The verb <code class="docutils literal notranslate"><span class="pre">tf_iocorr()</span></code> should throw a ton of warnings. What are these messages warning you about? Based on the colors in the plot, which correlations are not defined?</p>
<ul>
<li><p>The warnings are for <code class="docutils literal notranslate"><span class="pre">input</span> <span class="pre">array</span> <span class="pre">is</span> <span class="pre">constant</span></code>; some of the values do not vary. Based on the plot, we can see that all correlations involving <code class="docutils literal notranslate"><span class="pre">L,</span> <span class="pre">R,</span> <span class="pre">C</span></code> are not defined.</p></li>
</ul>
</li>
<li><p>Do we have any information on how the outputs <code class="docutils literal notranslate"><span class="pre">omega0</span></code> and <code class="docutils literal notranslate"><span class="pre">Q</span></code> depend on the deterministic inputs <code class="docutils literal notranslate"><span class="pre">L,</span> <span class="pre">R,</span> <span class="pre">C</span></code>? How does this relate to the warnings we saw above?</p>
<ul>
<li><p>No; the correlations between the outputs <code class="docutils literal notranslate"><span class="pre">omega0</span></code> and <code class="docutils literal notranslate"><span class="pre">Q</span></code> and inputs <code class="docutils literal notranslate"><span class="pre">L,</span> <span class="pre">R,</span> <span class="pre">C</span></code> are invalid. This is related to the warnings because <code class="docutils literal notranslate"><span class="pre">L,</span> <span class="pre">R,</span> <span class="pre">C</span></code> are each held at constant values. This is because we set <code class="docutils literal notranslate"><span class="pre">df_det=&quot;nom&quot;</span></code> in the sample above; there is no variability in the inputs <code class="docutils literal notranslate"><span class="pre">L,</span> <span class="pre">R,</span> <span class="pre">C</span></code> by which to judge correlation with the outputs.</p></li>
</ul>
</li>
<li><p>Based on the available information: Which inputs does <code class="docutils literal notranslate"><span class="pre">omega0</span></code> depend on? How do those inputs affect <code class="docutils literal notranslate"><span class="pre">omega0</span></code>?</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">omega0</span></code> depends on <code class="docutils literal notranslate"><span class="pre">dC</span></code> and <code class="docutils literal notranslate"><span class="pre">dL</span></code>; from this we can guess that is also depends on <code class="docutils literal notranslate"><span class="pre">C</span></code> and <code class="docutils literal notranslate"><span class="pre">L</span></code>. <code class="docutils literal notranslate"><span class="pre">omega0</span></code> is strongly negatively correlated with <code class="docutils literal notranslate"><span class="pre">dC</span></code>, and weakly negatively correlated with <code class="docutils literal notranslate"><span class="pre">dL</span></code>.</p></li>
</ul>
</li>
<li><p>Based on the available information: Which inputs does <code class="docutils literal notranslate"><span class="pre">Q</span></code> depend on? How do those inputs affect <code class="docutils literal notranslate"><span class="pre">Q</span></code>?</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">Q</span></code> depends on all of <code class="docutils literal notranslate"><span class="pre">dC</span></code>, <code class="docutils literal notranslate"><span class="pre">dL</span></code>, and <code class="docutils literal notranslate"><span class="pre">dR</span></code>; from this we can guess that it also depends on <code class="docutils literal notranslate"><span class="pre">C,</span> <span class="pre">L,</span> <span class="pre">R</span></code>. <code class="docutils literal notranslate"><span class="pre">Q</span></code> is strongly positively correlated with <code class="docutils literal notranslate"><span class="pre">dC</span></code>, weakly positively correlated with <code class="docutils literal notranslate"><span class="pre">dR</span></code>, and weakly negatively correlated with <code class="docutils literal notranslate"><span class="pre">dL</span></code>.</p></li>
</ul>
</li>
</ul>
</section>
<section id="hypothesis-dr-has-no-effect-on-omega0">
<h2>Hypothesis: <code class="docutils literal notranslate"><span class="pre">dR</span></code> has no effect on <code class="docutils literal notranslate"><span class="pre">omega0</span></code><a class="headerlink" href="#hypothesis-dr-has-no-effect-on-omega0" title="Permalink to this headline">#</a></h2>
<p>Based on the correlation tile plot above, we can formulate the following hypothesis:</p>
<blockquote>
<div><p>The variability in the resistance <code class="docutils literal notranslate"><span class="pre">dR</span></code> has no effect on the natural frequency <code class="docutils literal notranslate"><span class="pre">omega0</span></code>.</p>
</div></blockquote>
<p>While this may seem obvious, it’s important to keep in mind that correlation is a <em>crude</em> measure of dependency. For instance, the following code generates <code class="docutils literal notranslate"><span class="pre">X,</span> <span class="pre">Y</span></code> pairs that have a deterministic dependency, but very different correlation values:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## NOTE: No need to edit; run and inspect</span>
<span class="c1"># Generate data</span>
<span class="n">df_example</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">gr</span><span class="o">.</span><span class="n">df_make</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">gr</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>
    <span class="o">&gt;&gt;</span> <span class="n">gr</span><span class="o">.</span><span class="n">tf_mutate</span><span class="p">(</span>
        <span class="n">y_linear</span><span class="o">=</span><span class="mf">0.5</span> <span class="o">*</span> <span class="n">DF</span><span class="o">.</span><span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span>
        <span class="n">y_quad</span><span class="o">=</span><span class="mf">1.0</span> <span class="o">*</span> <span class="n">DF</span><span class="o">.</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="o">-</span> <span class="mf">0.5</span><span class="p">,</span>
    <span class="p">)</span>
<span class="p">)</span>

<span class="c1"># Compute correlation coefficients</span>
<span class="nb">print</span><span class="p">(</span>
    <span class="n">df_example</span>
    <span class="o">&gt;&gt;</span> <span class="n">gr</span><span class="o">.</span><span class="n">tf_summarize</span><span class="p">(</span>
        <span class="n">corr_linear</span><span class="o">=</span><span class="n">gr</span><span class="o">.</span><span class="n">corr</span><span class="p">(</span><span class="n">DF</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">DF</span><span class="o">.</span><span class="n">y_linear</span><span class="p">),</span>
        <span class="n">corr_quad</span><span class="o">=</span><span class="n">gr</span><span class="o">.</span><span class="n">corr</span><span class="p">(</span><span class="n">DF</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">DF</span><span class="o">.</span><span class="n">y_quad</span><span class="p">),</span>
    <span class="p">)</span>
<span class="p">)</span>

<span class="c1"># Visualize</span>
<span class="p">(</span>
    <span class="n">df_example</span>
    <span class="o">&gt;&gt;</span> <span class="n">gr</span><span class="o">.</span><span class="n">tf_pivot_longer</span><span class="p">(</span>
        <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;y_linear&quot;</span><span class="p">,</span> <span class="s2">&quot;y_quad&quot;</span><span class="p">],</span>
        <span class="n">names_to</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;.value&quot;</span><span class="p">,</span> <span class="s2">&quot;case&quot;</span><span class="p">],</span>
        <span class="n">names_sep</span><span class="o">=</span><span class="s2">&quot;_&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="o">&gt;&gt;</span> <span class="n">gr</span><span class="o">.</span><span class="n">ggplot</span><span class="p">(</span><span class="n">gr</span><span class="o">.</span><span class="n">aes</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;case&quot;</span><span class="p">))</span>
    <span class="o">+</span> <span class="n">gr</span><span class="o">.</span><span class="n">geom_point</span><span class="p">()</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>   corr_linear     corr_quad
0          1.0  2.775558e-16
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/Users/zach/Git/py_grama/grama/tran_pivot.py:471: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
</pre></div>
</div>
<img alt="../_images/d18-e-grama04-ema-solution_40_2.png" src="../_images/d18-e-grama04-ema-solution_40_2.png" />
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;ggplot: (8763311095077)&gt;
</pre></div>
</div>
</div>
</div>
<p>Note that the <code class="docutils literal notranslate"><span class="pre">y</span></code> most certainly depends on <code class="docutils literal notranslate"><span class="pre">x</span></code> in the <code class="docutils literal notranslate"><span class="pre">quad</span></code> case, but the correlation is zero; this is because correlation can only detect <em>linear</em> trends. Thus, we need to exercise caution when interpreting a correlation tile plot.</p>
<div class="admonition-correlation-is-a-rough-measure-of-dependency admonition">
<p class="admonition-title">Correlation is a rough measure of dependency</p>
<p>Correlation is a rough measure of dependency; for instance, a zero correlation can hide nonlinear relationships.</p>
</div>
<p>We can further investigate the hypothesis formulated from the correlation tile plot by constructing some sweeps.</p>
<section id="q10-sweeps">
<h3><strong>q10</strong> Sweeps<a class="headerlink" href="#q10-sweeps" title="Permalink to this headline">#</a></h3>
<p>Construct a sinew plot to investigate how each input affects the outputs of the model. Answer the questions under <em>observations</em> below.</p>
<p><em>Note</em>: You only need to sweep the random variables; you can use the nominal levels for the deterministic inputs.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span>
    <span class="n">md_circuit</span>

    <span class="o">&gt;&gt;</span> <span class="n">gr</span><span class="o">.</span><span class="n">ev_sinews</span><span class="p">(</span><span class="n">df_det</span><span class="o">=</span><span class="s2">&quot;nom&quot;</span><span class="p">)</span>
    <span class="o">&gt;&gt;</span> <span class="n">gr</span><span class="o">.</span><span class="n">pt_auto</span><span class="p">()</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Calling plot_sinew_outputs....
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/Users/zach/opt/anaconda3/envs/evc/lib/python3.9/site-packages/plotnine/utils.py:371: FutureWarning: The frame.append method is deprecated and will be removed from pandas in a future version. Use pandas.concat instead.
</pre></div>
</div>
<img alt="../_images/d18-e-grama04-ema-solution_43_2.png" src="../_images/d18-e-grama04-ema-solution_43_2.png" />
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;ggplot: (8763303624807)&gt;
</pre></div>
</div>
</div>
</div>
<p><em>Observations</em></p>
<ul class="simple">
<li><p>How does the hypothesis <em>The variability in the resistance <code class="docutils literal notranslate"><span class="pre">dR</span></code> has no effect on the natural frequency <code class="docutils literal notranslate"><span class="pre">omega0</span></code></em> hold up?</p>
<ul>
<li><p>This hypothesis appears to be true! We see that the sweeps associated with <code class="docutils literal notranslate"><span class="pre">omega0</span></code> and <code class="docutils literal notranslate"><span class="pre">dR</span></code> are completely flat, indicating that there is no effect of <code class="docutils literal notranslate"><span class="pre">dR</span></code> on <code class="docutils literal notranslate"><span class="pre">omega0</span></code>.</p></li>
</ul>
</li>
</ul>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./exercises_solution"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="d17-e-vis05-multiples-solution.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Vis: Small Multiples</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="d19-e-stat04-distributions-solution.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Stats: Distributions</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Zachary del Rosario<br/>
  
      &copy; Copyright 2022.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>