
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Stats: Distributions &#8212; Data Science for Engineers</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Grama: Fitting Functions" href="d20-e-grama05-fit-function-solution.html" />
    <link rel="prev" title="Grama: Exploratory Model Analysis" href="d18-e-grama04-ema-solution.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
      
      
      <h1 class="site-logo" id="site-title">Data Science for Engineers</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../frontmatter/home.html">
                    Data Science for Engineers
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../frontmatter/setup.html">
   Software Setup
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../frontmatter/howto.html">
   How To Use These Materials
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../frontmatter/schedule.html">
   Course Topics and Schedule
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../frontmatter/submission.html">
   Challenge Submission Instructions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../frontmatter/recordings.html">
   Class Recordings
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../frontmatter/demos.html">
   Demo Notebooks
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../demos/demo2022-06-20-1.html">
     Demo Notebook 2022-06-20
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../demos/demo2022-06-27.html">
     Demo Notebook 2022-06-27
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../demos/demo2022-07-06.html">
     Demo Notebook 2022-07-06
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../demos/demo2022-07-11.html">
     Demo Notebook 2022-07-11
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../demos/demo2022-07-18.html">
     Demo Notebook 2022-07-18
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../frontmatter/hours.html">
   Office Hours Schedule
  </a>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="../frontmatter/exercises.html">
   Exercise Solutions
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="d01-e-data00-notebooks-solution.html">
     Introduction to Jupyter Notebooks
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="d01-e-vis00-basics-solution.html">
     Vis: Data Visualization Basics
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="d02-e-data01-isolate-solution.html">
     Data: Isolating Data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="d02-e-tips-solution.html">
     Tips for This Course
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="d03-e-stat01-eda-solution.html">
     Stats: Introduction to Exploratory Data Analysis
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="d04-e-grama01-basics-solution.html">
     Grama: Basics
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="d05-e-vis01-bar-charts-solution.html">
     Vis: Bar Charts
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="d06-e-data02-derive-solution.html">
     Data: Deriving Quantities
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="d07-e-vis02-histograms-solution.html">
     Vis: Histograms
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="d08-e-stat02-source-solution.html">
     Stats: Real and Erroneous Sources of Variability
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="d09-e-vis03-scatterplot-solution.html">
     Vis: Scatterplots and Layers
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="d10-e-grama02-building-solution.html">
     Grama: Model Building
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="d11-e-data03-pivot-solution.html">
     Data: Pivoting Data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="d12-e-grama03-eval-solution.html">
     Grama: Model Evaluation
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="d13-e-vis04-lines-solution.html">
     Vis: Lines and Related Geometries
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="d14-e-stat03-descriptive-solution.html">
     Stats: Descriptive Statistics
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="d15-e-data04-separate-unite-solution.html">
     Data: Separating and Uniting Columns
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="d16-e-data05-join-solution.html">
     Data: Joining Datasets
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="d17-e-vis05-multiples-solution.html">
     Vis: Small Multiples
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="d18-e-grama04-ema-solution.html">
     Grama: Exploratory Model Analysis
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Stats: Distributions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="d20-e-grama05-fit-function-solution.html">
     Grama: Fitting Functions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="d21-e-stat05-CI-solution.html">
     Stats: Confidence Intervals and the CLT
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="d22-e-stat06-spc-solution.html">
     Stats: Fundamentals of Statistical Process Monitoring
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="d23-e-grama06-fit-univar-solution.html">
     Grama: Fitting Univariate Distributions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="d24-e-grama07-fit-multivar-solution.html">
     Grama: Fitting Multivariate Distributions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="d25-e-grama08-duu-solution.html">
     Grama: Design Under Uncertainty
    </a>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<div class="menu-dropdown menu-dropdown-launch-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Launch interactive content">
      <i class="fas fa-rocket"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://mybinder.org/v2/gh/executablebooks/jupyter-book/master?urlpath=tree/exercises_solution/d19-e-stat04-distributions-solution.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Binder"
>
  

<span class="headerbtn__icon-container">
  
    <img src="../_static/images/logo_binder.svg">
  </span>
<span class="headerbtn__text-container">Binder</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../_sources/exercises_solution/d19-e-stat04-distributions-solution.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.ipynb</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#">
   Stats: Distributions
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#setup">
     Setup
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#motivation-modeling-uncertainty">
   Motivation: Modeling Uncertainty
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#to-model-variability">
     To Model Variability
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#to-summarize-data">
     To Summarize Data
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#to-make-assumptions-explicit">
     To Make Assumptions Explicit
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#distribution-fundamentals">
   Distribution Fundamentals
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#what-a-distribution-represents">
     What a distribution represents
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#random-variables">
     Random variables
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#q1-define-a-distribution">
       <strong>
        q1
       </strong>
       Define a distribution
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#q2-check-your-distribution-s-summary">
       <strong>
        q2
       </strong>
       Check your distribution’s summary
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#moments">
     Moments
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#q3-compare-different-means">
       <strong>
        q3
       </strong>
       Compare different means
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#q4-compare-different-standard-deviations">
       <strong>
        q4
       </strong>
       Compare different standard deviations
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#q5-compare-different-skewnesses">
       <strong>
        q5
       </strong>
       Compare different skewnesses
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#simulating-values">
     Simulating values
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#q6-draw-random-values-from-your-distribution">
       <strong>
        q6
       </strong>
       <em>
        Draw
       </em>
       random values from your distribution
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#estimating-the-mean">
     Estimating the Mean
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#q7-estimate-a-sample-mean">
       <strong>
        q7
       </strong>
       Estimate a (sample) mean
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#probability">
     Probability
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#q8-compute-an-indicator">
       <strong>
        q8
       </strong>
       Compute an indicator
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#q9-estimate-a-probability">
       <strong>
        q9
       </strong>
       Estimate a probability
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#probability-of-failure">
     Probability of Failure
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#q10-estimate-a-probability-of-failure">
       <strong>
        q10
       </strong>
       Estimate a probability of failure
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#quantiles">
     Quantiles
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#q11-compute-sample-quantiles">
       <strong>
        q11
       </strong>
       Compute sample quantiles
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#conservative-values">
     Conservative values
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#q12-estimate-a-conservative-strength">
       <strong>
        q12
       </strong>
       Estimate a conservative strength
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Stats: Distributions</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#">
   Stats: Distributions
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#setup">
     Setup
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#motivation-modeling-uncertainty">
   Motivation: Modeling Uncertainty
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#to-model-variability">
     To Model Variability
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#to-summarize-data">
     To Summarize Data
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#to-make-assumptions-explicit">
     To Make Assumptions Explicit
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#distribution-fundamentals">
   Distribution Fundamentals
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#what-a-distribution-represents">
     What a distribution represents
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#random-variables">
     Random variables
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#q1-define-a-distribution">
       <strong>
        q1
       </strong>
       Define a distribution
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#q2-check-your-distribution-s-summary">
       <strong>
        q2
       </strong>
       Check your distribution’s summary
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#moments">
     Moments
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#q3-compare-different-means">
       <strong>
        q3
       </strong>
       Compare different means
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#q4-compare-different-standard-deviations">
       <strong>
        q4
       </strong>
       Compare different standard deviations
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#q5-compare-different-skewnesses">
       <strong>
        q5
       </strong>
       Compare different skewnesses
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#simulating-values">
     Simulating values
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#q6-draw-random-values-from-your-distribution">
       <strong>
        q6
       </strong>
       <em>
        Draw
       </em>
       random values from your distribution
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#estimating-the-mean">
     Estimating the Mean
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#q7-estimate-a-sample-mean">
       <strong>
        q7
       </strong>
       Estimate a (sample) mean
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#probability">
     Probability
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#q8-compute-an-indicator">
       <strong>
        q8
       </strong>
       Compute an indicator
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#q9-estimate-a-probability">
       <strong>
        q9
       </strong>
       Estimate a probability
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#probability-of-failure">
     Probability of Failure
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#q10-estimate-a-probability-of-failure">
       <strong>
        q10
       </strong>
       Estimate a probability of failure
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#quantiles">
     Quantiles
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#q11-compute-sample-quantiles">
       <strong>
        q11
       </strong>
       Compute sample quantiles
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#conservative-values">
     Conservative values
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#q12-estimate-a-conservative-strength">
       <strong>
        q12
       </strong>
       Estimate a conservative strength
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="stats-distributions">
<h1>Stats: Distributions<a class="headerlink" href="#stats-distributions" title="Permalink to this headline">#</a></h1>
<p><em>Purpose</em>: We will use distributions to model uncertain quantities. Distributions (and densities, random variables) are useful mathematical objects, but we will need to understand their properties to use them as effective models. This exercise is about distributions and their fundamental properties: In a future exercise (<code class="docutils literal notranslate"><span class="pre">e-grama06-fit-univar</span></code>) we will discuss how to model real quantities with distributions.</p>
<section id="setup">
<h2>Setup<a class="headerlink" href="#setup" title="Permalink to this headline">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">grama</span> <span class="k">as</span> <span class="nn">gr</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="n">DF</span> <span class="o">=</span> <span class="n">gr</span><span class="o">.</span><span class="n">Intention</span><span class="p">()</span>
<span class="o">%</span><span class="k">matplotlib</span> inline
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="motivation-modeling-uncertainty">
<h1>Motivation: Modeling Uncertainty<a class="headerlink" href="#motivation-modeling-uncertainty" title="Permalink to this headline">#</a></h1>
<p>Before we discuss distributions, let’s first talk about <em>why</em> distributions are necessary and useful.</p>
<section id="to-model-variability">
<h2>To Model Variability<a class="headerlink" href="#to-model-variability" title="Permalink to this headline">#</a></h2>
<p>Many real physical quantities exhibit <em>variability</em>; that is, different instances of “the same” quantity take different numerical values. This includes things like part geometry (tolerances), a person’s height and weight, and even material properties. Let’s look at a specific dataset of die cast aluminum material properties.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># NOTE: No need to edit</span>
<span class="kn">from</span> <span class="nn">grama.data</span> <span class="kn">import</span> <span class="n">df_shewhart</span>
</pre></div>
</div>
</div>
</div>
<p>If we inspect the <code class="docutils literal notranslate"><span class="pre">tensile_strength</span></code> values, we can see that they are quite variable.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># NOTE: No need to edit</span>
<span class="p">(</span>
    <span class="n">df_shewhart</span>
    <span class="o">&gt;&gt;</span> <span class="n">gr</span><span class="o">.</span><span class="n">ggplot</span><span class="p">(</span><span class="n">gr</span><span class="o">.</span><span class="n">aes</span><span class="p">(</span><span class="s2">&quot;tensile_strength&quot;</span><span class="p">))</span>
    <span class="o">+</span> <span class="n">gr</span><span class="o">.</span><span class="n">geom_histogram</span><span class="p">()</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/Users/zach/opt/anaconda3/envs/evc/lib/python3.9/site-packages/plotnine/stats/stat_bin.py:95: PlotnineWarning: &#39;stat_bin()&#39; using &#39;bins = 7&#39;. Pick better value with &#39;binwidth&#39;.
</pre></div>
</div>
<img alt="../_images/d19-e-stat04-distributions-solution_7_1.png" src="../_images/d19-e-stat04-distributions-solution_7_1.png" />
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;ggplot: (8779106334148)&gt;
</pre></div>
</div>
</div>
</div>
<p>In order to design in the presence of this variability, we need a way to represent this variability in a quantitative fashion. Distributions offer one way to quantitatively describe variability.</p>
</section>
<section id="to-summarize-data">
<h2>To Summarize Data<a class="headerlink" href="#to-summarize-data" title="Permalink to this headline">#</a></h2>
<p>A distribution is one way to <em>summarize</em> a dataset. Rather than using a (potentially large) dataset to describe a variable quantity, we can use a distribution.</p>
<p>Fitting a lognormal distribution allows us to summarize the variability in <code class="docutils literal notranslate"><span class="pre">tensile_strength</span></code>. The following code fits a lognormal distribution to the <code class="docutils literal notranslate"><span class="pre">tensile_strength</span></code> data.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># NOTE: No need to edit</span>
<span class="c1"># Fit a lognormal distribution</span>
<span class="n">mg_tensile_strength</span> <span class="o">=</span> <span class="n">gr</span><span class="o">.</span><span class="n">marg_fit</span><span class="p">(</span>
    <span class="s2">&quot;lognorm&quot;</span><span class="p">,</span>
    <span class="n">df_shewhart</span><span class="o">.</span><span class="n">tensile_strength</span><span class="p">,</span>
    <span class="n">floc</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
<span class="p">)</span>
<span class="c1"># Show a summary</span>
<span class="n">mg_tensile_strength</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(+0) lognorm, {&#39;mean&#39;: &#39;3.187e+04&#39;, &#39;s.d.&#39;: &#39;4.019e+03&#39;, &#39;COV&#39;: 0.13, &#39;skew.&#39;: 0.38, &#39;kurt.&#39;: 3.26}
</pre></div>
</div>
</div>
</div>
<p>The distribution is defined in terms of a handful of <em>parameters</em>—scalar values that affect the quantitative properties of the distribution.</p>
<p>When we compare the fitted distribution against the data, we can see that the fitted distribution is in the same location and has the same width as the data.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># NOTE: No need to edit</span>
<span class="c1"># Visualize the density against the data</span>
<span class="p">(</span>
    <span class="n">df_shewhart</span>
    <span class="o">&gt;&gt;</span> <span class="n">gr</span><span class="o">.</span><span class="n">ggplot</span><span class="p">(</span><span class="n">gr</span><span class="o">.</span><span class="n">aes</span><span class="p">(</span><span class="s2">&quot;tensile_strength&quot;</span><span class="p">))</span>
    <span class="o">+</span> <span class="n">gr</span><span class="o">.</span><span class="n">geom_histogram</span><span class="p">(</span><span class="n">gr</span><span class="o">.</span><span class="n">aes</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="n">gr</span><span class="o">.</span><span class="n">after_stat</span><span class="p">(</span><span class="s2">&quot;density&quot;</span><span class="p">)))</span>
    <span class="o">+</span> <span class="n">gr</span><span class="o">.</span><span class="n">geom_line</span><span class="p">(</span>
        <span class="n">data</span><span class="o">=</span><span class="n">gr</span><span class="o">.</span><span class="n">df_make</span><span class="p">(</span><span class="n">tensile_strength</span><span class="o">=</span><span class="n">gr</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mf">20e3</span><span class="p">,</span> <span class="mf">45e3</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>
        <span class="o">&gt;&gt;</span> <span class="n">gr</span><span class="o">.</span><span class="n">tf_mutate</span><span class="p">(</span><span class="n">d</span><span class="o">=</span><span class="n">mg_tensile_strength</span><span class="o">.</span><span class="n">d</span><span class="p">(</span><span class="n">DF</span><span class="o">.</span><span class="n">tensile_strength</span><span class="p">)),</span>
        <span class="n">mapping</span><span class="o">=</span><span class="n">gr</span><span class="o">.</span><span class="n">aes</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="s2">&quot;d&quot;</span><span class="p">)</span>
    <span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/Users/zach/opt/anaconda3/envs/evc/lib/python3.9/site-packages/plotnine/stats/stat_bin.py:95: PlotnineWarning: &#39;stat_bin()&#39; using &#39;bins = 7&#39;. Pick better value with &#39;binwidth&#39;.
</pre></div>
</div>
<img alt="../_images/d19-e-stat04-distributions-solution_12_1.png" src="../_images/d19-e-stat04-distributions-solution_12_1.png" />
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;ggplot: (8779123879403)&gt;
</pre></div>
</div>
</div>
</div>
</section>
<section id="to-make-assumptions-explicit">
<h2>To Make Assumptions Explicit<a class="headerlink" href="#to-make-assumptions-explicit" title="Permalink to this headline">#</a></h2>
<p>Selecting a distribtion helps us make assumptions about an uncertain quantity explicit. For instance, are we assuming that values are strictly bounded between low and high values? Or are there no bounds?</p>
<p>For example, a normal distribution can take all values between <span class="math notranslate nohighlight">\(-\infty\)</span> and <span class="math notranslate nohighlight">\(+\infty\)</span>, while a beta distribution has a finite width. The following visual compares the two distribution shapes.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># NOTE: No need to edit</span>
<span class="c1"># Normal is unbounded</span>
<span class="n">mg_norm</span> <span class="o">=</span> <span class="n">gr</span><span class="o">.</span><span class="n">marg_mom</span><span class="p">(</span><span class="s2">&quot;norm&quot;</span><span class="p">,</span> <span class="n">mean</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sd</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="c1"># Beta is strictly bounded</span>
<span class="n">mg_beta</span> <span class="o">=</span> <span class="n">gr</span><span class="o">.</span><span class="n">marg_mom</span><span class="p">(</span><span class="s2">&quot;beta&quot;</span><span class="p">,</span> <span class="n">mean</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sd</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">skew</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">kurt</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

<span class="p">(</span>
    <span class="n">gr</span><span class="o">.</span><span class="n">df_make</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">gr</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="o">+</span><span class="mi">3</span><span class="p">,</span> <span class="mi">20</span><span class="p">))</span>
    <span class="o">&gt;&gt;</span> <span class="n">gr</span><span class="o">.</span><span class="n">tf_mutate</span><span class="p">(</span>
        <span class="n">d_norm</span><span class="o">=</span><span class="n">mg_norm</span><span class="o">.</span><span class="n">d</span><span class="p">(</span><span class="n">DF</span><span class="o">.</span><span class="n">x</span><span class="p">),</span>
        <span class="n">d_beta</span><span class="o">=</span><span class="n">mg_beta</span><span class="o">.</span><span class="n">d</span><span class="p">(</span><span class="n">DF</span><span class="o">.</span><span class="n">x</span><span class="p">),</span>
    <span class="p">)</span>
    <span class="o">&gt;&gt;</span> <span class="n">gr</span><span class="o">.</span><span class="n">tf_pivot_longer</span><span class="p">(</span>
        <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;d_norm&quot;</span><span class="p">,</span> <span class="s2">&quot;d_beta&quot;</span><span class="p">],</span>
        <span class="n">names_to</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;.value&quot;</span><span class="p">,</span> <span class="s2">&quot;distribution&quot;</span><span class="p">],</span>
        <span class="n">names_sep</span><span class="o">=</span><span class="s2">&quot;_&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    
    <span class="o">&gt;&gt;</span> <span class="n">gr</span><span class="o">.</span><span class="n">ggplot</span><span class="p">(</span><span class="n">gr</span><span class="o">.</span><span class="n">aes</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="s2">&quot;d&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;distribution&quot;</span><span class="p">))</span>
    <span class="o">+</span> <span class="n">gr</span><span class="o">.</span><span class="n">geom_line</span><span class="p">()</span>
    <span class="o">+</span> <span class="n">gr</span><span class="o">.</span><span class="n">theme_minimal</span><span class="p">()</span>
    <span class="o">+</span> <span class="n">gr</span><span class="o">.</span><span class="n">labs</span><span class="p">(</span>
        <span class="n">x</span><span class="o">=</span><span class="s2">&quot;Value&quot;</span><span class="p">,</span>
        <span class="n">y</span><span class="o">=</span><span class="s2">&quot;Density&quot;</span><span class="p">,</span>
    <span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/Users/zach/Git/py_grama/grama/tran_pivot.py:471: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
</pre></div>
</div>
<img alt="../_images/d19-e-stat04-distributions-solution_14_1.png" src="../_images/d19-e-stat04-distributions-solution_14_1.png" />
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;ggplot: (8779145038065)&gt;
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="distribution-fundamentals">
<h1>Distribution Fundamentals<a class="headerlink" href="#distribution-fundamentals" title="Permalink to this headline">#</a></h1>
<p><em>Note</em>: In this exercise, to keep things simple, we will focus on distributions for <em>continuous</em> variable.</p>
<section id="what-a-distribution-represents">
<h2>What a distribution represents<a class="headerlink" href="#what-a-distribution-represents" title="Permalink to this headline">#</a></h2>
<p><em>Fundamentally</em>, a distribution describes an uncertain value <em>in a quantitative fashion</em>. Rather than simply saying “I don’t know what value this is,” with a distribution we can express the fact that some values are more <em>likely</em> than others.</p>
<p>Distributions are particularly useful because they free us from “just” picking a single number. With a distribution we can get a lot more nuanced in our description of uncertain quantities. This exercise is all about using concepts about distributions to represent uncertain quantities.</p>
</section>
<section id="random-variables">
<h2>Random variables<a class="headerlink" href="#random-variables" title="Permalink to this headline">#</a></h2>
<p>Clearly <code class="docutils literal notranslate"><span class="pre">tensile_strength</span></code> does not take a single value; therefore, we should think of <code class="docutils literal notranslate"><span class="pre">tensile_strength</span></code> as a <em>random variable</em>. A random variable is a mathematical object that we can use to model an uncertain quantity. Unlike a <em>deterministic variable</em> that has one fixed value (say <span class="math notranslate nohighlight">\(x = 1\)</span>), a random variable can take a different value each time we <em>observe</em> it. For instance, if <span class="math notranslate nohighlight">\(X\)</span> were a random variable, and we used <span class="math notranslate nohighlight">\(X_i\)</span> to denote the value that occurs on the <span class="math notranslate nohighlight">\(i\)</span>-th observation, then we might see a sequence like</p>
<div class="math notranslate nohighlight">
\[X_1 = 1, X_2 = -3, X_3 = 1, X_4 = 5, \dots\]</div>
<p>What counts as an <em>observation</em> depends on what we are using the random variable to model. Essentially, an observation is an occurrence that gives us the potential to “see” a new value.</p>
<p>Let’s take a look at the <code class="docutils literal notranslate"><span class="pre">tensile_strength</span></code> example to get a better sense of these ideas.</p>
<p>For the <code class="docutils literal notranslate"><span class="pre">tensile_strength</span></code>, we saw a sequence of different values:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># NOTE: No need to edit</span>
<span class="p">(</span>
    <span class="n">df_shewhart</span>
    <span class="o">&gt;&gt;</span> <span class="n">gr</span><span class="o">.</span><span class="n">tf_head</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>specimen</th>
      <th>tensile_strength</th>
      <th>hardness</th>
      <th>density</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>29314</td>
      <td>53.0</td>
      <td>2.666</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>34860</td>
      <td>70.2</td>
      <td>2.708</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>36818</td>
      <td>84.3</td>
      <td>2.865</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>30120</td>
      <td>55.3</td>
      <td>2.627</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Every time we manufacture a new part, we perform a sequence of manufacturing steps that work together to “lock in” a particular value of <code class="docutils literal notranslate"><span class="pre">tensile_strength</span></code>. Those individual steps tend to go slightly differently each time we make a part (e.g. an operator calls in sick one day, we get a slightly more dense batch of raw material, it’s a particularly hot summer day, etc.), so we end up with different properties in each part.</p>
<p>Given the complicated realities of manfacturing, it makes sense to think of an <em>observation</em> as being one complete run of the manufacturing process that generates a particular part with its own <code class="docutils literal notranslate"><span class="pre">tensile_strength</span></code>. This is what the <code class="docutils literal notranslate"><span class="pre">specimen</span></code> column in <code class="docutils literal notranslate"><span class="pre">df_shewhart</span></code> refers to; a unique identifier tracking individual runs of the complete manufacturing process, resulting in a unique part.</p>
<div class="admonition-nomenclature-a-realization-is-like-a-single-roll-of-a-die admonition">
<p class="admonition-title">Nomenclature: A <em>realization</em> is like a single roll of a die</p>
<p>Some nomenclature: When we talk about random quantities, we use the term <em>realization</em> (or <em>observation</em>) to refer to a single event that yields a random value, according to a particular distribution. For instance, a single manufactured part will have a realized strength value. If we take multiple realizations, we will tend to see different values. For instance, we saw a large amount of variability among the realized <code class="docutils literal notranslate"><span class="pre">tensile_strength</span></code> values above.</p>
<p>A single realization tells us very little about how the distribution tends to behave, but a set of realizations (a <em>sample</em>) will give us a sense of how the random values tend to behave <em>collectively</em>. A distribution is a way to model that collective behavior.</p>
</div>
<p><strong>A distribution defines a random variable</strong>. We say that a random variable <span class="math notranslate nohighlight">\(X\)</span> is <em>distributed according to</em> a particular distribution <span class="math notranslate nohighlight">\(\rho\)</span>, and we express the same statement mathematically as</p>
<div class="math notranslate nohighlight">
\[X \sim \rho.\]</div>
<p>One way to represent a distribution is with a <em>density function</em>. The following plot displays the density for a normal distribution:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## NOTE: No need to edit</span>
<span class="c1"># This visualizes a density function</span>
<span class="p">(</span>
    <span class="n">gr</span><span class="o">.</span><span class="n">df_make</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">gr</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="o">+</span><span class="mi">3</span><span class="p">,</span> <span class="mi">200</span><span class="p">))</span>
    <span class="o">&gt;&gt;</span> <span class="n">gr</span><span class="o">.</span><span class="n">tf_mutate</span><span class="p">(</span><span class="n">d</span><span class="o">=</span><span class="n">mg_norm</span><span class="o">.</span><span class="n">d</span><span class="p">(</span><span class="n">DF</span><span class="o">.</span><span class="n">x</span><span class="p">))</span>
    
    <span class="o">&gt;&gt;</span> <span class="n">gr</span><span class="o">.</span><span class="n">ggplot</span><span class="p">(</span><span class="n">gr</span><span class="o">.</span><span class="n">aes</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="s2">&quot;d&quot;</span><span class="p">))</span>
    <span class="o">+</span> <span class="n">gr</span><span class="o">.</span><span class="n">geom_line</span><span class="p">()</span>
    <span class="o">+</span> <span class="n">gr</span><span class="o">.</span><span class="n">theme_minimal</span><span class="p">()</span>
    <span class="o">+</span> <span class="n">gr</span><span class="o">.</span><span class="n">labs</span><span class="p">(</span>
        <span class="n">x</span><span class="o">=</span><span class="s2">&quot;Value&quot;</span><span class="p">,</span>
        <span class="n">y</span><span class="o">=</span><span class="s2">&quot;Density&quot;</span><span class="p">,</span>
    <span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/d19-e-stat04-distributions-solution_23_0.png" src="../_images/d19-e-stat04-distributions-solution_23_0.png" />
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;ggplot: (8779106618103)&gt;
</pre></div>
</div>
</div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">Value</span></code> pictured here corresponds to all of the potential values that the random variable can take, while the <code class="docutils literal notranslate"><span class="pre">Density</span></code> quantitatively describes how likely (or unlikely) each of those values are. A value with a higher density will tend to occur more often. Density functions tend to “fall off” towards zero as we move towards more extreme values; these lower regions of the density are called “tails” of the distribution. The smallest values are associated with the “lower” or “left” tail, while the largest values are associated with the “upper” or “right” tail.</p>
<section id="q1-define-a-distribution">
<h3><strong>q1</strong> Define a distribution<a class="headerlink" href="#q1-define-a-distribution" title="Permalink to this headline">#</a></h3>
<p>Use the grama helper function <code class="docutils literal notranslate"><span class="pre">gr.marg_mom()</span></code> to define a distribution in terms of its <em>moments</em>. Fit a normal <code class="docutils literal notranslate"><span class="pre">&quot;norm&quot;</span></code> distribution with a mean of <code class="docutils literal notranslate"><span class="pre">1</span></code> and a standard deviation of <code class="docutils literal notranslate"><span class="pre">0.3</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## TASK: Define a normal distribution</span>

<span class="n">mg_norm</span> <span class="o">=</span> <span class="n">gr</span><span class="o">.</span><span class="n">marg_mom</span><span class="p">(</span><span class="s2">&quot;norm&quot;</span><span class="p">,</span> <span class="n">mean</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sd</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>
<span class="c1">## NOTE: No need to edit; this will plot your distribution</span>
<span class="p">(</span>
    <span class="n">gr</span><span class="o">.</span><span class="n">df_make</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">gr</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>
    <span class="o">&gt;&gt;</span> <span class="n">gr</span><span class="o">.</span><span class="n">tf_mutate</span><span class="p">(</span><span class="n">d</span><span class="o">=</span><span class="n">mg_norm</span><span class="o">.</span><span class="n">d</span><span class="p">(</span><span class="n">DF</span><span class="o">.</span><span class="n">x</span><span class="p">))</span>
    <span class="o">&gt;&gt;</span> <span class="n">gr</span><span class="o">.</span><span class="n">ggplot</span><span class="p">(</span><span class="n">gr</span><span class="o">.</span><span class="n">aes</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="s2">&quot;d&quot;</span><span class="p">))</span>
    <span class="o">+</span> <span class="n">gr</span><span class="o">.</span><span class="n">geom_line</span><span class="p">()</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/d19-e-stat04-distributions-solution_26_0.png" src="../_images/d19-e-stat04-distributions-solution_26_0.png" />
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;ggplot: (8779106627301)&gt;
</pre></div>
</div>
</div>
</div>
</section>
<section id="q2-check-your-distribution-s-summary">
<h3><strong>q2</strong> Check your distribution’s summary<a class="headerlink" href="#q2-check-your-distribution-s-summary" title="Permalink to this headline">#</a></h3>
<p>Print the distribution’s summary by simply “executing” the distribution (like you would with a DataFrame or grama model).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## TASK: Print the summary of mg_norm</span>
<span class="n">mg_norm</span>
<span class="c1"># solution-end</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(+0) norm, {&#39;mean&#39;: &#39;1.000e+00&#39;, &#39;s.d.&#39;: &#39;3.000e-01&#39;, &#39;COV&#39;: 0.3, &#39;skew.&#39;: 0.0, &#39;kurt.&#39;: 3.0}
</pre></div>
</div>
</div>
</div>
<p><em>Observations</em></p>
<ul class="simple">
<li><p>What mean does your distribution have?</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">mean</span> <span class="pre">=</span> <span class="pre">1.0</span></code></p></li>
</ul>
</li>
<li><p>What value of <em>skewness</em> does your distribution have?</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">skewness</span> <span class="pre">=</span> <span class="pre">0.0</span></code></p></li>
</ul>
</li>
<li><p>What value of <em>kurtosis</em> does your distribution have?</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">kurtosis</span> <span class="pre">=</span> <span class="pre">3.0</span></code></p></li>
</ul>
</li>
</ul>
<!-- solution-end --></section>
</section>
<section id="moments">
<h2>Moments<a class="headerlink" href="#moments" title="Permalink to this headline">#</a></h2>
<p>The summary of a distribution reports a few of its <em>moments</em>. These moments tell us different “facts” about the distribution:</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>Moment</p></th>
<th class="head"><p>Meaning</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Mean</p></td>
<td><p>Location</p></td>
</tr>
<tr class="row-odd"><td><p>Standard deviation</p></td>
<td><p>Width</p></td>
</tr>
<tr class="row-even"><td><p>Skewness</p></td>
<td><p>Left- or right-lopsidedness</p></td>
</tr>
<tr class="row-odd"><td><p>Kurtosis</p></td>
<td><p>Tendency to produce extreme (large) values</p></td>
</tr>
</tbody>
</table>
<p>Note that the distribution summary also reports the <em>coefficient of variation</em> (COV), which is a normalized version of the standard deviation (<code class="docutils literal notranslate"><span class="pre">COV</span> <span class="pre">=</span> <span class="pre">sd</span> <span class="pre">/</span> <span class="pre">mean</span></code>).</p>
<p>The next few exercises will help you recognize how different moment values affect a distribution.</p>
<section id="q3-compare-different-means">
<h3><strong>q3</strong> Compare different means<a class="headerlink" href="#q3-compare-different-means" title="Permalink to this headline">#</a></h3>
<p>Inspect the following distribution summaries and the plot. Answer the questions under <em>obervations</em> below.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## NOTE: No need to edit; this will plot and compare two distributions</span>
<span class="n">mg_lo</span> <span class="o">=</span> <span class="n">gr</span><span class="o">.</span><span class="n">marg_mom</span><span class="p">(</span><span class="s2">&quot;norm&quot;</span><span class="p">,</span> <span class="n">mean</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">sd</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">mg_hi</span> <span class="o">=</span> <span class="n">gr</span><span class="o">.</span><span class="n">marg_mom</span><span class="p">(</span><span class="s2">&quot;norm&quot;</span><span class="p">,</span> <span class="n">mean</span><span class="o">=+</span><span class="mi">1</span><span class="p">,</span> <span class="n">sd</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>

<span class="c1">## Print the summaries</span>
<span class="nb">print</span><span class="p">(</span><span class="n">mg_lo</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">mg_hi</span><span class="p">)</span>

<span class="c1">## Visualize the distributions</span>
<span class="p">(</span>
    <span class="n">gr</span><span class="o">.</span><span class="n">df_make</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">gr</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>
    <span class="o">&gt;&gt;</span> <span class="n">gr</span><span class="o">.</span><span class="n">tf_mutate</span><span class="p">(</span>
        <span class="n">d_lo</span><span class="o">=</span><span class="n">mg_lo</span><span class="o">.</span><span class="n">d</span><span class="p">(</span><span class="n">DF</span><span class="o">.</span><span class="n">x</span><span class="p">),</span>
        <span class="n">d_hi</span><span class="o">=</span><span class="n">mg_hi</span><span class="o">.</span><span class="n">d</span><span class="p">(</span><span class="n">DF</span><span class="o">.</span><span class="n">x</span><span class="p">),</span>
    <span class="p">)</span>
    <span class="o">&gt;&gt;</span> <span class="n">gr</span><span class="o">.</span><span class="n">tf_pivot_longer</span><span class="p">(</span>
        <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;d_lo&quot;</span><span class="p">,</span> <span class="s2">&quot;d_hi&quot;</span><span class="p">],</span>
        <span class="n">names_to</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;.value&quot;</span><span class="p">,</span> <span class="s2">&quot;distribution&quot;</span><span class="p">],</span>
        <span class="n">names_sep</span><span class="o">=</span><span class="s2">&quot;_&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    
    <span class="o">&gt;&gt;</span> <span class="n">gr</span><span class="o">.</span><span class="n">ggplot</span><span class="p">(</span><span class="n">gr</span><span class="o">.</span><span class="n">aes</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="s2">&quot;d&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;distribution&quot;</span><span class="p">))</span>
    <span class="o">+</span> <span class="n">gr</span><span class="o">.</span><span class="n">geom_line</span><span class="p">()</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(+0) norm, {&#39;mean&#39;: &#39;-1.000e+00&#39;, &#39;s.d.&#39;: &#39;5.000e-01&#39;, &#39;COV&#39;: -0.5, &#39;skew.&#39;: 0.0, &#39;kurt.&#39;: 3.0}
(+0) norm, {&#39;mean&#39;: &#39;1.000e+00&#39;, &#39;s.d.&#39;: &#39;5.000e-01&#39;, &#39;COV&#39;: 0.5, &#39;skew.&#39;: 0.0, &#39;kurt.&#39;: 3.0}
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/Users/zach/Git/py_grama/grama/tran_pivot.py:471: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
</pre></div>
</div>
<img alt="../_images/d19-e-stat04-distributions-solution_32_2.png" src="../_images/d19-e-stat04-distributions-solution_32_2.png" />
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;ggplot: (8779145236625)&gt;
</pre></div>
</div>
</div>
</div>
<p><em>Observations</em></p>
<ul class="simple">
<li><p>What is the mean (<code class="docutils literal notranslate"><span class="pre">mean</span></code>) of the <code class="docutils literal notranslate"><span class="pre">lo</span></code> distribution? How does that compare with the <code class="docutils literal notranslate"><span class="pre">mean</span></code> of the <code class="docutils literal notranslate"><span class="pre">hi</span></code> distribution?</p>
<ul>
<li><p>For <code class="docutils literal notranslate"><span class="pre">lo</span></code>: <code class="docutils literal notranslate"><span class="pre">mean</span> <span class="pre">==</span> <span class="pre">-1</span></code>, for <code class="docutils literal notranslate"><span class="pre">hi</span></code>: <code class="docutils literal notranslate"><span class="pre">mean</span> <span class="pre">==</span> <span class="pre">+1</span></code>.</p></li>
</ul>
</li>
<li><p>The mean is a measure of the “location” of a distribution: In your own words, how does the <code class="docutils literal notranslate"><span class="pre">lo</span></code> distribution compare with the <code class="docutils literal notranslate"><span class="pre">hi</span></code> distribution?</p>
<ul>
<li><p>The <code class="docutils literal notranslate"><span class="pre">lo</span></code> distribution is shifted to the left (towards more negative values) than the <code class="docutils literal notranslate"><span class="pre">hi</span></code> distribution. Both are identical in shape; they are simply located at different centers.</p></li>
</ul>
</li>
</ul>
<!-- solution-end --></section>
<section id="q4-compare-different-standard-deviations">
<h3><strong>q4</strong> Compare different standard deviations<a class="headerlink" href="#q4-compare-different-standard-deviations" title="Permalink to this headline">#</a></h3>
<p>Inspect the following distribution summaries and the plot. Answer the questions under <em>obervations</em> below.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## NOTE: No need to edit; this will plot and compare distributions</span>
<span class="n">mg_narrow</span> <span class="o">=</span> <span class="n">gr</span><span class="o">.</span><span class="n">marg_mom</span><span class="p">(</span><span class="s2">&quot;norm&quot;</span><span class="p">,</span> <span class="n">mean</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sd</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">mg_wide</span> <span class="o">=</span> <span class="n">gr</span><span class="o">.</span><span class="n">marg_mom</span><span class="p">(</span><span class="s2">&quot;norm&quot;</span><span class="p">,</span> <span class="n">mean</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sd</span><span class="o">=</span><span class="mf">1.0</span><span class="p">)</span>

<span class="c1">## Print the summaries</span>
<span class="nb">print</span><span class="p">(</span><span class="n">mg_narrow</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">mg_wide</span><span class="p">)</span>

<span class="c1">## Visualize the distributions</span>
<span class="p">(</span>
    <span class="n">gr</span><span class="o">.</span><span class="n">df_make</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">gr</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>
    <span class="o">&gt;&gt;</span> <span class="n">gr</span><span class="o">.</span><span class="n">tf_mutate</span><span class="p">(</span>
        <span class="n">d_narrow</span><span class="o">=</span><span class="n">mg_narrow</span><span class="o">.</span><span class="n">d</span><span class="p">(</span><span class="n">DF</span><span class="o">.</span><span class="n">x</span><span class="p">),</span>
        <span class="n">d_wide</span><span class="o">=</span><span class="n">mg_wide</span><span class="o">.</span><span class="n">d</span><span class="p">(</span><span class="n">DF</span><span class="o">.</span><span class="n">x</span><span class="p">),</span>
    <span class="p">)</span>
    <span class="o">&gt;&gt;</span> <span class="n">gr</span><span class="o">.</span><span class="n">tf_pivot_longer</span><span class="p">(</span>
        <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;d_narrow&quot;</span><span class="p">,</span> <span class="s2">&quot;d_wide&quot;</span><span class="p">],</span>
        <span class="n">names_to</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;.value&quot;</span><span class="p">,</span> <span class="s2">&quot;distribution&quot;</span><span class="p">],</span>
        <span class="n">names_sep</span><span class="o">=</span><span class="s2">&quot;_&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    
    <span class="o">&gt;&gt;</span> <span class="n">gr</span><span class="o">.</span><span class="n">ggplot</span><span class="p">(</span><span class="n">gr</span><span class="o">.</span><span class="n">aes</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="s2">&quot;d&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;distribution&quot;</span><span class="p">))</span>
    <span class="o">+</span> <span class="n">gr</span><span class="o">.</span><span class="n">geom_line</span><span class="p">()</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/Users/zach/Git/py_grama/grama/marginals.py:336: RuntimeWarning: divide by zero encountered in double_scalars
/Users/zach/Git/py_grama/grama/tran_pivot.py:471: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(+0) norm, {&#39;mean&#39;: &#39;0.000e+00&#39;, &#39;s.d.&#39;: &#39;5.000e-01&#39;, &#39;COV&#39;: inf, &#39;skew.&#39;: 0.0, &#39;kurt.&#39;: 3.0}
(+0) norm, {&#39;mean&#39;: &#39;0.000e+00&#39;, &#39;s.d.&#39;: &#39;1.000e+00&#39;, &#39;COV&#39;: inf, &#39;skew.&#39;: 0.0, &#39;kurt.&#39;: 3.0}
</pre></div>
</div>
<img alt="../_images/d19-e-stat04-distributions-solution_35_2.png" src="../_images/d19-e-stat04-distributions-solution_35_2.png" />
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;ggplot: (8779124034265)&gt;
</pre></div>
</div>
</div>
</div>
<p><em>Observations</em></p>
<ul class="simple">
<li><p>What is the standard deviation (<code class="docutils literal notranslate"><span class="pre">sd</span></code>) of the <code class="docutils literal notranslate"><span class="pre">narrow</span></code> distribution? How does that compare with the <code class="docutils literal notranslate"><span class="pre">sd</span></code> of the <code class="docutils literal notranslate"><span class="pre">wide</span></code> distribution?</p>
<ul>
<li><p>The <code class="docutils literal notranslate"><span class="pre">narrow</span></code> distribution has <code class="docutils literal notranslate"><span class="pre">sd</span> <span class="pre">==</span> <span class="pre">0.5</span></code>, the <code class="docutils literal notranslate"><span class="pre">wide</span></code> distribution has <code class="docutils literal notranslate"><span class="pre">sd</span> <span class="pre">==</span> <span class="pre">1.0</span></code>.</p></li>
</ul>
</li>
<li><p>Standard deviation is a measure of “width” of a distribution: In your own words, how does the <code class="docutils literal notranslate"><span class="pre">wide</span></code> distribution compare with the <code class="docutils literal notranslate"><span class="pre">narrow</span></code> distribution?</p>
<ul>
<li><p>For the <code class="docutils literal notranslate"><span class="pre">wide</span></code> distribution, larger values (more-negative and more-positive) are more plausible (as measured by a larger density).</p></li>
</ul>
</li>
</ul>
<!-- solution-end --></section>
<section id="q5-compare-different-skewnesses">
<h3><strong>q5</strong> Compare different skewnesses<a class="headerlink" href="#q5-compare-different-skewnesses" title="Permalink to this headline">#</a></h3>
<p>Inspect the following distribution summaries and the plot. Answer the questions under <em>obervations</em> below.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## NOTE: No need to edit; this will plot and compare distributions</span>
<span class="n">mg_lognorm</span> <span class="o">=</span> <span class="n">gr</span><span class="o">.</span><span class="n">marg_mom</span><span class="p">(</span><span class="s2">&quot;lognorm&quot;</span><span class="p">,</span> <span class="n">mean</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sd</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">floc</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="c1">## Print the summaries</span>
<span class="nb">print</span><span class="p">(</span><span class="n">mg_norm</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">mg_lognorm</span><span class="p">)</span>

<span class="c1">## Visualize the distributions</span>
<span class="p">(</span>
    <span class="n">gr</span><span class="o">.</span><span class="n">df_make</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">gr</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>
    <span class="o">&gt;&gt;</span> <span class="n">gr</span><span class="o">.</span><span class="n">tf_mutate</span><span class="p">(</span>
        <span class="n">d_norm</span><span class="o">=</span><span class="n">mg_norm</span><span class="o">.</span><span class="n">d</span><span class="p">(</span><span class="n">DF</span><span class="o">.</span><span class="n">x</span><span class="p">),</span>
        <span class="n">d_lognorm</span><span class="o">=</span><span class="n">mg_lognorm</span><span class="o">.</span><span class="n">d</span><span class="p">(</span><span class="n">DF</span><span class="o">.</span><span class="n">x</span><span class="p">),</span>
    <span class="p">)</span>
    <span class="o">&gt;&gt;</span> <span class="n">gr</span><span class="o">.</span><span class="n">tf_pivot_longer</span><span class="p">(</span>
        <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;d_norm&quot;</span><span class="p">,</span> <span class="s2">&quot;d_lognorm&quot;</span><span class="p">],</span>
        <span class="n">names_to</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;.value&quot;</span><span class="p">,</span> <span class="s2">&quot;distribution&quot;</span><span class="p">],</span>
        <span class="n">names_sep</span><span class="o">=</span><span class="s2">&quot;_&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    
    <span class="o">&gt;&gt;</span> <span class="n">gr</span><span class="o">.</span><span class="n">ggplot</span><span class="p">(</span><span class="n">gr</span><span class="o">.</span><span class="n">aes</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="s2">&quot;d&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;distribution&quot;</span><span class="p">))</span>
    <span class="o">+</span> <span class="n">gr</span><span class="o">.</span><span class="n">geom_line</span><span class="p">()</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(+0) norm, {&#39;mean&#39;: &#39;1.000e+00&#39;, &#39;s.d.&#39;: &#39;3.000e-01&#39;, &#39;COV&#39;: 0.3, &#39;skew.&#39;: 0.0, &#39;kurt.&#39;: 3.0}
(+0) lognorm, {&#39;mean&#39;: &#39;1.000e+00&#39;, &#39;s.d.&#39;: &#39;5.000e-01&#39;, &#39;COV&#39;: 0.5, &#39;skew.&#39;: 1.62, &#39;kurt.&#39;: 8.04}
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/Users/zach/Git/py_grama/grama/tran_pivot.py:471: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
</pre></div>
</div>
<img alt="../_images/d19-e-stat04-distributions-solution_38_2.png" src="../_images/d19-e-stat04-distributions-solution_38_2.png" />
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;ggplot: (8779124051023)&gt;
</pre></div>
</div>
</div>
</div>
<p><em>Observations</em></p>
<ul class="simple">
<li><p>What is the <code class="docutils literal notranslate"><span class="pre">skew.</span></code> of the <code class="docutils literal notranslate"><span class="pre">norm</span></code> distribution? How does that compare with the <code class="docutils literal notranslate"><span class="pre">skew</span></code> of the <code class="docutils literal notranslate"><span class="pre">lognorm</span></code> distribution?</p>
<ul>
<li><p>The <code class="docutils literal notranslate"><span class="pre">norm</span></code> distribution has <code class="docutils literal notranslate"><span class="pre">skew.</span> <span class="pre">==</span> <span class="pre">0</span></code>, while the <code class="docutils literal notranslate"><span class="pre">lognorm</span></code> distribution has <code class="docutils literal notranslate"><span class="pre">skew.</span> <span class="pre">==</span> <span class="pre">1.62</span></code>.</p></li>
</ul>
</li>
<li><p>Skewness is related to asymmetry of a distribution: In your own words, how is the lognormal distribution above asymmetric?</p>
<ul>
<li><p>The lognormal distribution has a “longer” right tail</p></li>
</ul>
</li>
</ul>
<!-- solution-end --></section>
</section>
<section id="simulating-values">
<h2>Simulating values<a class="headerlink" href="#simulating-values" title="Permalink to this headline">#</a></h2>
<p>With a distribution, we can draw realizations in to generate a synthetic dataset.</p>
<section id="q6-draw-random-values-from-your-distribution">
<h3><strong>q6</strong> <em>Draw</em> random values from your distribution<a class="headerlink" href="#q6-draw-random-values-from-your-distribution" title="Permalink to this headline">#</a></h3>
<p>Use the <code class="docutils literal notranslate"><span class="pre">Marginal.r(n)</span></code> method to <em>draw</em> <code class="docutils literal notranslate"><span class="pre">1000</span></code> random values from your distribution. Play with the sample size <code class="docutils literal notranslate"><span class="pre">n</span></code>, and answer the questions under <em>observations</em> below.</p>
<p><em>Hint</em>: A <em>method</em> is a function that you invoke using dot notation. If the marginal were named <code class="docutils literal notranslate"><span class="pre">mg</span></code>, then you could call the random value method via <code class="docutils literal notranslate"><span class="pre">mg.r(1000)</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## TASK: Draw 1000 random values from mg_norm</span>

<span class="n">X</span> <span class="o">=</span> <span class="n">mg_norm</span><span class="o">.</span><span class="n">r</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
<span class="c1">## NOTE: No need to edit; use this to check your answer</span>
<span class="p">(</span>
    <span class="n">gr</span><span class="o">.</span><span class="n">df_make</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">X</span><span class="p">)</span>
    <span class="o">&gt;&gt;</span> <span class="n">gr</span><span class="o">.</span><span class="n">ggplot</span><span class="p">(</span><span class="n">gr</span><span class="o">.</span><span class="n">aes</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">))</span>
    <span class="o">+</span> <span class="n">gr</span><span class="o">.</span><span class="n">geom_histogram</span><span class="p">(</span><span class="n">bins</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">mapping</span><span class="o">=</span><span class="n">gr</span><span class="o">.</span><span class="n">aes</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="s2">&quot;stat(density)&quot;</span><span class="p">))</span>
    <span class="o">+</span> <span class="n">gr</span><span class="o">.</span><span class="n">geom_line</span><span class="p">(</span>
        <span class="n">data</span><span class="o">=</span><span class="n">gr</span><span class="o">.</span><span class="n">df_make</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">gr</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>
        <span class="o">&gt;&gt;</span> <span class="n">gr</span><span class="o">.</span><span class="n">tf_mutate</span><span class="p">(</span><span class="n">d</span><span class="o">=</span><span class="n">mg_norm</span><span class="o">.</span><span class="n">d</span><span class="p">(</span><span class="n">DF</span><span class="o">.</span><span class="n">x</span><span class="p">)),</span>
        <span class="n">mapping</span><span class="o">=</span><span class="n">gr</span><span class="o">.</span><span class="n">aes</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="s2">&quot;d&quot;</span><span class="p">)</span>
    <span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/d19-e-stat04-distributions-solution_42_0.png" src="../_images/d19-e-stat04-distributions-solution_42_0.png" />
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;ggplot: (8779124024191)&gt;
</pre></div>
</div>
</div>
</div>
<p><em>Observations</em></p>
<ul class="simple">
<li><p>Set <code class="docutils literal notranslate"><span class="pre">n</span></code> to a small value (say <code class="docutils literal notranslate"><span class="pre">n=100</span></code>). How well does the histogram match the density (soid curve)?</p>
<ul>
<li><p>The histogram really does not resemble the density at all….</p></li>
</ul>
</li>
<li><p>What value of <code class="docutils literal notranslate"><span class="pre">n</span></code> is necessary for the histogram to resemble the density?</p>
<ul>
<li><p>I find that a modestly-large value (around <code class="docutils literal notranslate"><span class="pre">n=1000</span></code>) is necessary for the histogram to resemble the density.</p></li>
</ul>
</li>
</ul>
<!-- solution-end --></section>
</section>
<section id="estimating-the-mean">
<h2>Estimating the Mean<a class="headerlink" href="#estimating-the-mean" title="Permalink to this headline">#</a></h2>
<p>The average of multiple realizations <span class="math notranslate nohighlight">\(X_i \sim \rho\)</span> is called the <em>sample mean</em></p>
<div class="math notranslate nohighlight">
\[\overline{X} = \frac{1}{n} \sum_{i=1}^n X_i.\]</div>
<p>The true mean of a distribution is called the <em>expectation</em> <span class="math notranslate nohighlight">\(\mathbb{E}[X]\)</span>. The sample mean will tend to converge to the true mean as the number of realizations <span class="math notranslate nohighlight">\(n\)</span> increases</p>
<div class="math notranslate nohighlight">
\[\lim_{n\to\infty} \frac{1}{n} \sum_{i=1}^n X_i = \mathbb{E}[X].\]</div>
<p>However, when <span class="math notranslate nohighlight">\(n &lt; \infty\)</span>, the sample mean will tend to be different from the true mean of the distribution.</p>
<section id="q7-estimate-a-sample-mean">
<h3><strong>q7</strong> Estimate a (sample) mean<a class="headerlink" href="#q7-estimate-a-sample-mean" title="Permalink to this headline">#</a></h3>
<p>Complete the following code to compute the sample mean. Answer the questions under <em>observations</em> below.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## TASK: Compute the sample mean</span>
<span class="c1"># NOTE: No need to edit; this will report the true mean</span>
<span class="nb">print</span><span class="p">(</span><span class="n">mg_norm</span><span class="p">)</span>

<span class="p">(</span>
    <span class="n">gr</span><span class="o">.</span><span class="n">df_make</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">mg_norm</span><span class="o">.</span><span class="n">r</span><span class="p">(</span><span class="mi">100</span><span class="p">))</span>

    <span class="o">&gt;&gt;</span> <span class="n">gr</span><span class="o">.</span><span class="n">tf_summarize</span><span class="p">(</span>
        <span class="n">x_mean</span><span class="o">=</span><span class="n">gr</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">DF</span><span class="o">.</span><span class="n">x</span><span class="p">)</span>
    <span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(+0) norm, {&#39;mean&#39;: &#39;1.000e+00&#39;, &#39;s.d.&#39;: &#39;3.000e-01&#39;, &#39;COV&#39;: 0.3, &#39;skew.&#39;: 0.0, &#39;kurt.&#39;: 3.0}
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>x_mean</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.98557</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p><em>Observations</em></p>
<ul class="simple">
<li><p>How does the sample mean compare with the true mean of your distribution <code class="docutils literal notranslate"><span class="pre">mg_norm</span></code>?</p>
<ul>
<li><p>The value is different each time, but I get a value quite close to <code class="docutils literal notranslate"><span class="pre">1.0</span></code>, the true mean.</p></li>
</ul>
</li>
<li><p>What might account for this difference?</p>
<ul>
<li><p>We took a limited sample <span class="math notranslate nohighlight">\(n &lt; \infty\)</span>, thus there is sampling error in the estimated mean.</p></li>
</ul>
</li>
<li><p>Re-run the cell; do you get an identical value?</p>
<ul>
<li><p>Nope! There is randomness in the estimate.</p></li>
</ul>
</li>
</ul>
<!-- solution-end --><div class="admonition-the-sample-mean-is-a-random-variable admonition">
<p class="admonition-title">The sample mean is a random variable</p>
<p>Noting that the sample mean will tend to be different from the true mean highlights the essence of estimation with limited data: The sample mean is itself a random quantity.</p>
<p>Note that the sample mean (and other estimated quantities) tend to exhibit <em>erroneous variability</em>; there is some true fixed value for the mean, and we see variability only because we have collected a limited amount of data. Increasing our sample size will tend to reduce this variability. Since this uncertainty is due to sampling, it is also called <em>sampling uncertainty</em>.</p>
</div>
</section>
</section>
<section id="probability">
<h2>Probability<a class="headerlink" href="#probability" title="Permalink to this headline">#</a></h2>
<p>Probability is the area under the density curve, within a set that you specify. Thus probability is associated with both a set <span class="math notranslate nohighlight">\(A\)</span> and a random variable <span class="math notranslate nohighlight">\(X\)</span>. The set <span class="math notranslate nohighlight">\(A\)</span> is chosen to correspond to an <em>event</em> of interest.</p>
<p>For instance, if we were interested in the probability of the event <span class="math notranslate nohighlight">\(A = \{0.5 &lt;= X &lt;= 0.7\}\)</span>, the following area would be the probability:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## NOTE: No need to edit; run and inspect</span>
<span class="n">df_tmp</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">gr</span><span class="o">.</span><span class="n">df_make</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">gr</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>
    <span class="o">&gt;&gt;</span> <span class="n">gr</span><span class="o">.</span><span class="n">tf_mutate</span><span class="p">(</span><span class="n">d</span><span class="o">=</span><span class="n">mg_norm</span><span class="o">.</span><span class="n">d</span><span class="p">(</span><span class="n">DF</span><span class="o">.</span><span class="n">x</span><span class="p">))</span>
<span class="p">)</span>

<span class="p">(</span>
    <span class="n">df_tmp</span>
    <span class="o">&gt;&gt;</span> <span class="n">gr</span><span class="o">.</span><span class="n">ggplot</span><span class="p">(</span><span class="n">gr</span><span class="o">.</span><span class="n">aes</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="s2">&quot;d&quot;</span><span class="p">))</span>
    <span class="o">+</span> <span class="n">gr</span><span class="o">.</span><span class="n">geom_line</span><span class="p">()</span>
    <span class="o">+</span> <span class="n">gr</span><span class="o">.</span><span class="n">geom_ribbon</span><span class="p">(</span>
        <span class="n">data</span><span class="o">=</span><span class="n">df_tmp</span>
        <span class="o">&gt;&gt;</span> <span class="n">gr</span><span class="o">.</span><span class="n">tf_filter</span><span class="p">(</span><span class="mf">0.5</span> <span class="o">&lt;=</span> <span class="n">DF</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">DF</span><span class="o">.</span><span class="n">x</span> <span class="o">&lt;=</span> <span class="mf">0.7</span><span class="p">),</span>
        <span class="n">mapping</span><span class="o">=</span><span class="n">gr</span><span class="o">.</span><span class="n">aes</span><span class="p">(</span><span class="n">ymin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">ymax</span><span class="o">=</span><span class="s2">&quot;d&quot;</span><span class="p">),</span>
        <span class="n">fill</span><span class="o">=</span><span class="s2">&quot;salmon&quot;</span><span class="p">,</span>
        <span class="n">color</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/d19-e-stat04-distributions-solution_50_0.png" src="../_images/d19-e-stat04-distributions-solution_50_0.png" />
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;ggplot: (8779145316340)&gt;
</pre></div>
</div>
</div>
</div>
<p>Note that probability is associated with a <em>set</em>—a range of values—not just a single value. Note that the area under the curve for a single value would have zero width, hence zero probability!</p>
<p>The following pictures the case where <span class="math notranslate nohighlight">\(\{X = 1\}\)</span>, an event with just one value.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## NOTE: No need to edit; run and inspect</span>
<span class="n">df_tmp</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">gr</span><span class="o">.</span><span class="n">df_make</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">gr</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">101</span><span class="p">))</span>
    <span class="o">&gt;&gt;</span> <span class="n">gr</span><span class="o">.</span><span class="n">tf_mutate</span><span class="p">(</span><span class="n">d</span><span class="o">=</span><span class="n">mg_norm</span><span class="o">.</span><span class="n">d</span><span class="p">(</span><span class="n">DF</span><span class="o">.</span><span class="n">x</span><span class="p">))</span>
<span class="p">)</span>

<span class="p">(</span>
    <span class="n">df_tmp</span>
    <span class="o">&gt;&gt;</span> <span class="n">gr</span><span class="o">.</span><span class="n">ggplot</span><span class="p">(</span><span class="n">gr</span><span class="o">.</span><span class="n">aes</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="s2">&quot;d&quot;</span><span class="p">))</span>
    <span class="o">+</span> <span class="n">gr</span><span class="o">.</span><span class="n">geom_line</span><span class="p">()</span>
    <span class="o">+</span> <span class="n">gr</span><span class="o">.</span><span class="n">geom_segment</span><span class="p">(</span>
        <span class="n">data</span><span class="o">=</span><span class="n">df_tmp</span>
        <span class="o">&gt;&gt;</span> <span class="n">gr</span><span class="o">.</span><span class="n">tf_filter</span><span class="p">(</span><span class="n">DF</span><span class="o">.</span><span class="n">x</span> <span class="o">==</span> <span class="n">gr</span><span class="o">.</span><span class="n">median</span><span class="p">(</span><span class="n">DF</span><span class="o">.</span><span class="n">x</span><span class="p">)),</span>
        <span class="n">mapping</span><span class="o">=</span><span class="n">gr</span><span class="o">.</span><span class="n">aes</span><span class="p">(</span><span class="n">xend</span><span class="o">=</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="n">yend</span><span class="o">=</span><span class="mi">0</span><span class="p">),</span>
        <span class="n">color</span><span class="o">=</span><span class="s2">&quot;salmon&quot;</span><span class="p">,</span>
    <span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/d19-e-stat04-distributions-solution_52_0.png" src="../_images/d19-e-stat04-distributions-solution_52_0.png" />
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;ggplot: (8779124021221)&gt;
</pre></div>
</div>
</div>
</div>
<p>A more mathematical definition for probability is in terms of the expectation</p>
<div class="math notranslate nohighlight">
\[\mathbb{P}[X \in A] = \mathbb{E}[1(X \in A)]\]</div>
<p>where <span class="math notranslate nohighlight">\(1(X \in A)\)</span> is the <em>indicator function</em>, which is just a compact way of tracking whether or not a point lands in the set <span class="math notranslate nohighlight">\(A\)</span>. The symbol <span class="math notranslate nohighlight">\(\in\)</span> just means “inside a set”; for example, <span class="math notranslate nohighlight">\(1 \in \{1, 2, 3\}\)</span>, but <span class="math notranslate nohighlight">\(0 \not\in \{1, 2, 3\}\)</span>.</p>
<p>The indicator function takes values <span class="math notranslate nohighlight">\(1,0\)</span> depending on whether or not a value <span class="math notranslate nohighlight">\(X\)</span> lands inside the set <span class="math notranslate nohighlight">\(A\)</span>.</p>
<div class="math notranslate nohighlight">
\[\begin{split}1(X \in A) = \left\{\begin{array}{cc} 1 &amp; \text{ if }X \in A \\ 0 &amp; \text{ otherwise}\end{array}\right.\end{split}\]</div>
<p>This expectation definition is not just math for its own sake; this expectation of the indicator definition is <strong>easy to translate into computer code</strong>. We can use the sample mean of an indicator to estimate a probability</p>
<div class="math notranslate nohighlight">
\[\mathbb{P}[X \in A] \approx \frac{1}{n} \sum_{i=1}^n 1(X_i \in A).\]</div>
<p>You will use this expression in the next tasks to approximate a probability.</p>
<section id="q8-compute-an-indicator">
<h3><strong>q8</strong> Compute an indicator<a class="headerlink" href="#q8-compute-an-indicator" title="Permalink to this headline">#</a></h3>
<p>Compute an indicator for the event <span class="math notranslate nohighlight">\(A = \{X \leq +1\}\)</span>.</p>
<p><em>Hint</em>: Comparison operators like <code class="docutils literal notranslate"><span class="pre">&lt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;=</span></code>, <code class="docutils literal notranslate"><span class="pre">&gt;=</span></code>, and <code class="docutils literal notranslate"><span class="pre">==</span></code> return boolean values <code class="docutils literal notranslate"><span class="pre">True</span></code> and <code class="docutils literal notranslate"><span class="pre">False</span></code>. However, python also treats these as numerical values, where <code class="docutils literal notranslate"><span class="pre">True</span> <span class="pre">==</span> <span class="pre">1</span></code> and <code class="docutils literal notranslate"><span class="pre">False</span> <span class="pre">==</span> <span class="pre">0</span></code>. This means you can use a simple comparison to compute an indicator value!</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## TASK: Compute an indicator for the event where x &lt;= 1</span>
<span class="n">df_ind</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">gr</span><span class="o">.</span><span class="n">df_make</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">mg_norm</span><span class="o">.</span><span class="n">r</span><span class="p">(</span><span class="mi">100</span><span class="p">))</span>
    <span class="o">&gt;&gt;</span> <span class="n">gr</span><span class="o">.</span><span class="n">tf_mutate</span><span class="p">(</span>

        <span class="n">ind</span><span class="o">=</span><span class="n">DF</span><span class="o">.</span><span class="n">x</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="p">)</span>
<span class="p">)</span>

<span class="c1"># NOTE: No need to edit; use this to check your work</span>
<span class="k">assert</span> \
    <span class="s2">&quot;ind&quot;</span> <span class="ow">in</span> <span class="n">df_ind</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span> \
    <span class="s2">&quot;The result df_ind does not have an indicator column `ind`&quot;</span>

<span class="k">assert</span> \
    <span class="p">(</span><span class="nb">all</span><span class="p">(</span><span class="n">df_ind</span><span class="o">.</span><span class="n">ind</span> <span class="o">==</span> <span class="p">(</span><span class="n">df_ind</span><span class="o">.</span><span class="n">x</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">))),</span> \
    <span class="s2">&quot;Your indicator column `ind` is incorrect.&quot;</span>

<span class="n">df_ind</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>x</th>
      <th>ind</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1.110060</td>
      <td>False</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0.637335</td>
      <td>True</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1.473643</td>
      <td>False</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0.854875</td>
      <td>True</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1.531506</td>
      <td>False</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>95</th>
      <td>0.633529</td>
      <td>True</td>
    </tr>
    <tr>
      <th>96</th>
      <td>1.215205</td>
      <td>False</td>
    </tr>
    <tr>
      <th>97</th>
      <td>0.717967</td>
      <td>True</td>
    </tr>
    <tr>
      <th>98</th>
      <td>0.548411</td>
      <td>True</td>
    </tr>
    <tr>
      <th>99</th>
      <td>0.664019</td>
      <td>True</td>
    </tr>
  </tbody>
</table>
<p>100 rows × 2 columns</p>
</div></div></div>
</div>
</section>
<section id="q9-estimate-a-probability">
<h3><strong>q9</strong> Estimate a probability<a class="headerlink" href="#q9-estimate-a-probability" title="Permalink to this headline">#</a></h3>
<p>Use the definition of probability along with your indicator value to approximate the probability that <span class="math notranslate nohighlight">\(X \leq 1\)</span>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## TASK: Estimate the probability; call that column `pr`</span>
<span class="n">df_pr</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">df_ind</span>

    <span class="o">&gt;&gt;</span> <span class="n">gr</span><span class="o">.</span><span class="n">tf_summarize</span><span class="p">(</span><span class="n">pr</span><span class="o">=</span><span class="n">gr</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">DF</span><span class="o">.</span><span class="n">ind</span><span class="p">))</span>
<span class="p">)</span>

<span class="c1"># NOTE: No need to edit; use this to check your work</span>
<span class="k">assert</span> \
    <span class="s2">&quot;pr&quot;</span> <span class="ow">in</span> <span class="n">df_pr</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span> \
    <span class="s2">&quot;The result df_pr does not have the column `pr`&quot;</span>

<span class="k">assert</span> \
    <span class="n">df_pr</span><span class="o">.</span><span class="n">pr</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">df_ind</span><span class="o">.</span><span class="n">ind</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> \
    <span class="s2">&quot;The value of df_pr.pr is incorrect&quot;</span>

<span class="n">df_pr</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>pr</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.51</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
</section>
<section id="probability-of-failure">
<h2>Probability of Failure<a class="headerlink" href="#probability-of-failure" title="Permalink to this headline">#</a></h2>
<p>Probability is useful as a quantitative measure of a design’s performance. For example, reliability engineers strive to produce designs that have a low <em>probability of failure</em>. This is important for safety-critical applications, such as in the design of buildings, bridges, or aircraft.</p>
<p>To use probability to describe failure, we need to define an event <span class="math notranslate nohighlight">\(A\)</span> that corresponds to failure for the system we are studying. For example, with the <code class="docutils literal notranslate"><span class="pre">tensile_strength</span></code> of an alloy, we can say failure occurs when the applied stress is greater than the strength. Rendered mathematically, this is the event</p>
<div class="math notranslate nohighlight">
\[A_{\text{failure}} = \{\sigma_{\text{strength}} \leq \sigma_{\text{applied}}\}.\]</div>
<p>The probability of failure is then</p>
<div class="math notranslate nohighlight">
\[\text{POF} = \mathbb{P}[A_{\text{failure}}].\]</div>
<p>We can approximate the probability of failure of a part if we know the applied stress and have a dataset of <code class="docutils literal notranslate"><span class="pre">tensile_strength</span></code> values.</p>
<section id="q10-estimate-a-probability-of-failure">
<h3><strong>q10</strong> Estimate a probability of failure<a class="headerlink" href="#q10-estimate-a-probability-of-failure" title="Permalink to this headline">#</a></h3>
<p>Suppose the applied stress is <span class="math notranslate nohighlight">\(\sigma_{\text{applied}} = 25 \times 10^3\)</span> psi. Estimate the probability of failure of a part following the distribution of <code class="docutils literal notranslate"><span class="pre">tensile_strength</span></code> in the <code class="docutils literal notranslate"><span class="pre">df_shewhart</span></code> dataset. Answer the questions under <em>observations</em> below.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## TASK: Estimate the probability of failure associated with the applied stress above</span>
<span class="c1">## provide this as the column `pof`</span>
<span class="n">df_pof</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">df_shewhart</span>

    <span class="o">&gt;&gt;</span> <span class="n">gr</span><span class="o">.</span><span class="n">tf_summarize</span><span class="p">(</span>
        <span class="n">pof</span><span class="o">=</span><span class="n">gr</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">DF</span><span class="o">.</span><span class="n">tensile_strength</span> <span class="o">&lt;=</span> <span class="mf">25e3</span><span class="p">)</span>
    <span class="p">)</span>
<span class="p">)</span>

<span class="c1"># NOTE: No need to edit; use this to check your work</span>
<span class="k">assert</span> \
    <span class="s2">&quot;pof&quot;</span> <span class="ow">in</span> <span class="n">df_pof</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span> \
    <span class="s2">&quot;The result df_pof does not have the column `pof`&quot;</span>

<span class="k">assert</span> \
    <span class="nb">abs</span><span class="p">(</span><span class="n">df_pof</span><span class="o">.</span><span class="n">pof</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="mf">0.05</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">1e-3</span><span class="p">,</span> \
    <span class="s2">&quot;The value of df_pof.pof is incorrect&quot;</span>

<span class="n">df_pof</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>pof</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.05</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p><em>Observations</em></p>
<ul class="simple">
<li><p>What probability of failure <code class="docutils literal notranslate"><span class="pre">pof</span></code> did you estimate?</p>
<ul>
<li><p>I estimate <code class="docutils literal notranslate"><span class="pre">pof</span> <span class="pre">==</span> <span class="pre">0.05</span></code></p></li>
</ul>
</li>
<li><p>Is your value <code class="docutils literal notranslate"><span class="pre">pof</span></code> the <em>true</em> probability of failure? Why or why not?</p>
<ul>
<li><p>No; remember that any time we have a limited dataset there is sampling uncertainty. Like the sample mean we computed above, the estimated pof here is not exactly equal to the true pof.</p></li>
</ul>
</li>
</ul>
<!-- solution-end --></section>
</section>
<section id="quantiles">
<h2>Quantiles<a class="headerlink" href="#quantiles" title="Permalink to this headline">#</a></h2>
<p>Quantiles “turn around” the idea of probability. With probability we start with a set <span class="math notranslate nohighlight">\(A\)</span> and arrive at a probability value <span class="math notranslate nohighlight">\(p\)</span>. With a <em>quantile</em> we start with a probability value <span class="math notranslate nohighlight">\(p\)</span> and arrive at a set <span class="math notranslate nohighlight">\(A\)</span> that is below a single value <span class="math notranslate nohighlight">\(q\)</span>; that is <span class="math notranslate nohighlight">\(A = \{X \leq q\}\)</span>.</p>
<p>For instance, for a normal distribution the <code class="docutils literal notranslate"><span class="pre">0.50</span></code> quantile is the value <span class="math notranslate nohighlight">\(q\)</span> where 50% of the probability lies below that value; this will be the middle of the distribution, which happens to be the mean:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## NOTE: No need to edit; run and inspect</span>
<span class="c1"># Compute the 0.50 quantile</span>
<span class="n">q_mid</span> <span class="o">=</span> <span class="n">mg_norm</span><span class="o">.</span><span class="n">q</span><span class="p">(</span><span class="mf">0.50</span><span class="p">)</span>

<span class="c1"># Visualize</span>
<span class="n">df_tmp</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">gr</span><span class="o">.</span><span class="n">df_make</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">gr</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>
    <span class="o">&gt;&gt;</span> <span class="n">gr</span><span class="o">.</span><span class="n">tf_mutate</span><span class="p">(</span><span class="n">d</span><span class="o">=</span><span class="n">mg_norm</span><span class="o">.</span><span class="n">d</span><span class="p">(</span><span class="n">DF</span><span class="o">.</span><span class="n">x</span><span class="p">))</span>
<span class="p">)</span>

<span class="p">(</span>
    <span class="n">df_tmp</span>
    <span class="o">&gt;&gt;</span> <span class="n">gr</span><span class="o">.</span><span class="n">ggplot</span><span class="p">(</span><span class="n">gr</span><span class="o">.</span><span class="n">aes</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="s2">&quot;d&quot;</span><span class="p">))</span>
    <span class="o">+</span> <span class="n">gr</span><span class="o">.</span><span class="n">geom_line</span><span class="p">()</span>
    <span class="o">+</span> <span class="n">gr</span><span class="o">.</span><span class="n">geom_ribbon</span><span class="p">(</span>
        <span class="n">data</span><span class="o">=</span><span class="n">df_tmp</span>
        <span class="o">&gt;&gt;</span> <span class="n">gr</span><span class="o">.</span><span class="n">tf_filter</span><span class="p">(</span><span class="mf">0.0</span> <span class="o">&lt;=</span> <span class="n">DF</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">DF</span><span class="o">.</span><span class="n">x</span> <span class="o">&lt;=</span> <span class="n">q_mid</span><span class="p">),</span>
        <span class="n">mapping</span><span class="o">=</span><span class="n">gr</span><span class="o">.</span><span class="n">aes</span><span class="p">(</span><span class="n">ymin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">ymax</span><span class="o">=</span><span class="s2">&quot;d&quot;</span><span class="p">),</span>
        <span class="n">fill</span><span class="o">=</span><span class="s2">&quot;salmon&quot;</span><span class="p">,</span>
        <span class="n">color</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/d19-e-stat04-distributions-solution_63_0.png" src="../_images/d19-e-stat04-distributions-solution_63_0.png" />
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;ggplot: (8779145316346)&gt;
</pre></div>
</div>
</div>
</div>
<p>However, quantiles allow us to target values other than the mean. For instance, we could seek a moderately low value by targeting the <code class="docutils literal notranslate"><span class="pre">0.25</span></code> quantile, which will be the point where 25% of the probability is below the value <span class="math notranslate nohighlight">\(q\)</span>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## NOTE: No need to edit; run and inspect</span>
<span class="c1"># Compute the 0.25 quantile</span>
<span class="n">q_lo</span> <span class="o">=</span> <span class="n">mg_norm</span><span class="o">.</span><span class="n">q</span><span class="p">(</span><span class="mf">0.25</span><span class="p">)</span>

<span class="c1"># Visualize</span>
<span class="n">df_tmp</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">gr</span><span class="o">.</span><span class="n">df_make</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">gr</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">200</span><span class="p">))</span>
    <span class="o">&gt;&gt;</span> <span class="n">gr</span><span class="o">.</span><span class="n">tf_mutate</span><span class="p">(</span><span class="n">d</span><span class="o">=</span><span class="n">mg_norm</span><span class="o">.</span><span class="n">d</span><span class="p">(</span><span class="n">DF</span><span class="o">.</span><span class="n">x</span><span class="p">))</span>
<span class="p">)</span>

<span class="p">(</span>
    <span class="n">df_tmp</span>
    <span class="o">&gt;&gt;</span> <span class="n">gr</span><span class="o">.</span><span class="n">ggplot</span><span class="p">(</span><span class="n">gr</span><span class="o">.</span><span class="n">aes</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="s2">&quot;d&quot;</span><span class="p">))</span>
    <span class="o">+</span> <span class="n">gr</span><span class="o">.</span><span class="n">geom_line</span><span class="p">()</span>
    <span class="o">+</span> <span class="n">gr</span><span class="o">.</span><span class="n">geom_ribbon</span><span class="p">(</span>
        <span class="n">data</span><span class="o">=</span><span class="n">df_tmp</span>
        <span class="o">&gt;&gt;</span> <span class="n">gr</span><span class="o">.</span><span class="n">tf_filter</span><span class="p">(</span><span class="mf">0.0</span> <span class="o">&lt;=</span> <span class="n">DF</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">DF</span><span class="o">.</span><span class="n">x</span> <span class="o">&lt;=</span> <span class="n">q_lo</span><span class="p">),</span>
        <span class="n">mapping</span><span class="o">=</span><span class="n">gr</span><span class="o">.</span><span class="n">aes</span><span class="p">(</span><span class="n">ymin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">ymax</span><span class="o">=</span><span class="s2">&quot;d&quot;</span><span class="p">),</span>
        <span class="n">fill</span><span class="o">=</span><span class="s2">&quot;salmon&quot;</span><span class="p">,</span>
        <span class="n">color</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/d19-e-stat04-distributions-solution_65_0.png" src="../_images/d19-e-stat04-distributions-solution_65_0.png" />
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;ggplot: (8779145337697)&gt;
</pre></div>
</div>
</div>
</div>
<p>As with the sample mean and a sample probability, we can compute sample quantiles from a dataset.</p>
<section id="q11-compute-sample-quantiles">
<h3><strong>q11</strong> Compute sample quantiles<a class="headerlink" href="#q11-compute-sample-quantiles" title="Permalink to this headline">#</a></h3>
<p>Use the quantile method <code class="docutils literal notranslate"><span class="pre">q()</span></code> to compute the <code class="docutils literal notranslate"><span class="pre">0.10</span></code> and <code class="docutils literal notranslate"><span class="pre">0.50</span></code> quantiles of the <code class="docutils literal notranslate"><span class="pre">mg_norm</span></code> distribution. Answer the questions under <em>observations</em> below.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## TASK: Compute the exact 0.10 and 0.50 quantiles of mg_norm</span>

<span class="n">q_10</span> <span class="o">=</span> <span class="n">mg_norm</span><span class="o">.</span><span class="n">q</span><span class="p">(</span><span class="mf">0.10</span><span class="p">)</span>
<span class="n">q_50</span> <span class="o">=</span> <span class="n">mg_norm</span><span class="o">.</span><span class="n">q</span><span class="p">(</span><span class="mf">0.50</span><span class="p">)</span>
<span class="c1">## NOTE: No need to edit; use this to check your work</span>
<span class="c1"># This compute sample quantiles</span>
<span class="p">(</span>
    <span class="n">gr</span><span class="o">.</span><span class="n">df_make</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">mg_norm</span><span class="o">.</span><span class="n">r</span><span class="p">(</span><span class="mi">1000</span><span class="p">))</span>
    <span class="o">&gt;&gt;</span> <span class="n">gr</span><span class="o">.</span><span class="n">tf_summarize</span><span class="p">(</span>
        <span class="n">pr_10</span><span class="o">=</span><span class="n">gr</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">DF</span><span class="o">.</span><span class="n">x</span> <span class="o">&lt;=</span> <span class="n">q_10</span><span class="p">),</span> <span class="c1"># Should be around 0.10</span>
        <span class="n">pr_50</span><span class="o">=</span><span class="n">gr</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">DF</span><span class="o">.</span><span class="n">x</span> <span class="o">&lt;=</span> <span class="n">q_50</span><span class="p">),</span> <span class="c1"># Should be around 0.50</span>
    <span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>pr_10</th>
      <th>pr_50</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.116</td>
      <td>0.537</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p><em>Observations</em></p>
<ul class="simple">
<li><p>Are the <code class="docutils literal notranslate"><span class="pre">q_10</span></code> and <code class="docutils literal notranslate"><span class="pre">q_50</span></code> you computed above <em>sample</em> values or <em>true</em> values of <code class="docutils literal notranslate"><span class="pre">mg_norm</span></code>?</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">q_10</span></code> and <code class="docutils literal notranslate"><span class="pre">q_50</span></code> are the <em>true</em> quantiles of <code class="docutils literal notranslate"><span class="pre">mg_norm</span></code>.</p></li>
</ul>
</li>
<li><p>What does the line of code <code class="docutils literal notranslate"><span class="pre">pr_10=gr.mean(DF.x</span> <span class="pre">&lt;=</span> <span class="pre">q_10)</span></code> compute?</p>
<ul>
<li><p>This compute the probability that <code class="docutils literal notranslate"><span class="pre">x</span></code> is below the value <code class="docutils literal notranslate"><span class="pre">q_10</span></code></p></li>
</ul>
</li>
<li><p>Why are the values <code class="docutils literal notranslate"><span class="pre">pr_10</span></code> and <code class="docutils literal notranslate"><span class="pre">pr_50</span></code> not <em>exactly</em> equal to the probability values used to compute <code class="docutils literal notranslate"><span class="pre">q_10</span></code> and <code class="docutils literal notranslate"><span class="pre">q_50</span></code>?</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">pr_10</span></code> and <code class="docutils literal notranslate"><span class="pre">pr_50</span></code> are sample probabilities, not true probabilities. Since there is sampling uncertainty, their values will be close to—but not exactly equal to—their true value.</p></li>
</ul>
</li>
</ul>
<!-- solution-end --></section>
</section>
<section id="conservative-values">
<h2>Conservative values<a class="headerlink" href="#conservative-values" title="Permalink to this headline">#</a></h2>
<p>Quantiles are a useful way to define <em>conservative</em> values associated with a desired probability. Rather than simply “take the mean” of a set of values, we can pick a small or larger probability and compute an associated quantile.</p>
<p>For instance, since failure under tensile loading occurs when <span class="math notranslate nohighlight">\(\sigma_{\text{strength}} \leq \sigma_{\text{applied}}\)</span>, taking a lower quantile of <code class="docutils literal notranslate"><span class="pre">tensile_strength</span></code> will provide a conservative value appropriate for design.</p>
<section id="q12-estimate-a-conservative-strength">
<h3><strong>q12</strong> Estimate a conservative strength<a class="headerlink" href="#q12-estimate-a-conservative-strength" title="Permalink to this headline">#</a></h3>
<p>Compute the empirical <code class="docutils literal notranslate"><span class="pre">0.10</span></code> quantile of the <code class="docutils literal notranslate"><span class="pre">tensile_strength</span></code> in <code class="docutils literal notranslate"><span class="pre">df_shewhart</span></code>; provide this as the column <code class="docutils literal notranslate"><span class="pre">lower</span></code>. Additionally, compute the sample mean of <code class="docutils literal notranslate"><span class="pre">tensile_strength</span></code>; provide this as the column <code class="docutils literal notranslate"><span class="pre">mean</span></code>. Answer the questions under <em>observations</em> below.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## TASK: Compute the lower 0.10 quantile and mean of `tensile_strength`</span>
<span class="n">df_values</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">df_shewhart</span> 

    <span class="o">&gt;&gt;</span> <span class="n">gr</span><span class="o">.</span><span class="n">tf_summarize</span><span class="p">(</span>
        <span class="n">lower</span><span class="o">=</span><span class="n">gr</span><span class="o">.</span><span class="n">quant</span><span class="p">(</span><span class="n">DF</span><span class="o">.</span><span class="n">tensile_strength</span><span class="p">,</span> <span class="mf">0.10</span><span class="p">),</span>
        <span class="n">mean</span><span class="o">=</span><span class="n">gr</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">DF</span><span class="o">.</span><span class="n">tensile_strength</span><span class="p">),</span>
    <span class="p">)</span>
<span class="p">)</span>

<span class="c1"># NOTE: No need to edit; use this to check your work</span>
<span class="k">assert</span> \
    <span class="s2">&quot;lower&quot;</span> <span class="ow">in</span> <span class="n">df_values</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span> \
    <span class="s2">&quot;The result df_values does not have the column `lower`&quot;</span>

<span class="k">assert</span> \
    <span class="s2">&quot;mean&quot;</span> <span class="ow">in</span> <span class="n">df_values</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span> \
    <span class="s2">&quot;The result df_values does not have the column `mean`&quot;</span>

<span class="k">assert</span> \
    <span class="n">df_values</span><span class="o">.</span><span class="n">lower</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">gr</span><span class="o">.</span><span class="n">quant</span><span class="p">(</span><span class="n">df_shewhart</span><span class="o">.</span><span class="n">tensile_strength</span><span class="p">,</span> <span class="mf">0.10</span><span class="p">),</span> \
    <span class="s2">&quot;incorrect value of `lower`&quot;</span>

<span class="nb">print</span><span class="p">(</span><span class="n">df_values</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span>
    <span class="n">df_shewhart</span>
    <span class="o">&gt;&gt;</span> <span class="n">gr</span><span class="o">.</span><span class="n">tf_summarize</span><span class="p">(</span>
        <span class="n">pof_lower</span><span class="o">=</span><span class="n">gr</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">DF</span><span class="o">.</span><span class="n">tensile_strength</span> <span class="o">&lt;=</span> <span class="n">df_values</span><span class="o">.</span><span class="n">lower</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span>
        <span class="n">pof_mean</span><span class="o">=</span><span class="n">gr</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">DF</span><span class="o">.</span><span class="n">tensile_strength</span> <span class="o">&lt;=</span> <span class="n">df_values</span><span class="p">[</span><span class="s1">&#39;mean&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span>
    <span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>     lower          mean
0  26395.0  31869.366667

   pof_lower  pof_mean
0        0.1       0.5
</pre></div>
</div>
</div>
</div>
<p><em>Observations</em></p>
<ul class="simple">
<li><p>Are the <code class="docutils literal notranslate"><span class="pre">lower</span></code> and <code class="docutils literal notranslate"><span class="pre">mean</span></code> values that you computed <em>sample</em> values or <em>true</em> values?</p>
<ul>
<li><p>These are both <em>sample</em> values, as they are computed from a dataset.</p></li>
</ul>
</li>
<li><p>What probability of failure <code class="docutils literal notranslate"><span class="pre">pof</span></code> is associated with the <code class="docutils literal notranslate"><span class="pre">lower</span></code> value? What probability of failure <code class="docutils literal notranslate"><span class="pre">pof</span></code> is associated with the <code class="docutils literal notranslate"><span class="pre">mean</span></code>?</p>
<ul>
<li><p>The <code class="docutils literal notranslate"><span class="pre">lower</span></code> value is associated with <code class="docutils literal notranslate"><span class="pre">pof</span> <span class="pre">==</span> <span class="pre">0.1</span></code>; the <code class="docutils literal notranslate"><span class="pre">mean</span></code> value is associated with <code class="docutils literal notranslate"><span class="pre">pof</span> <span class="pre">==</span> <span class="pre">0.5</span></code>.</p></li>
</ul>
</li>
<li><p>Suppose the observed variability in the <code class="docutils literal notranslate"><span class="pre">tensile_strength</span></code> is real. Which of <code class="docutils literal notranslate"><span class="pre">mean</span></code> or <code class="docutils literal notranslate"><span class="pre">lower</span></code> is safer to use for design purposes? Why?</p>
<ul>
<li><p>If the variability is real, then <code class="docutils literal notranslate"><span class="pre">lower</span></code> is definitely safer for design. Real variability means that parts can end up with a strength lower than the <code class="docutils literal notranslate"><span class="pre">mean</span></code>; thus if we design assuming the <code class="docutils literal notranslate"><span class="pre">mean</span></code> value, real parts may end up failing.</p></li>
</ul>
</li>
</ul>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./exercises_solution"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="d18-e-grama04-ema-solution.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Grama: Exploratory Model Analysis</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="d20-e-grama05-fit-function-solution.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Grama: Fitting Functions</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Zachary del Rosario<br/>
  
      &copy; Copyright 2022.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>